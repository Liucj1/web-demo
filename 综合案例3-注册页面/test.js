/*VERSION=3.3.10*/function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _typeof(t){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}window.TINGYUN=function(t,e){if(/(MSIE [0-8].\d+)/.test(navigator.userAgent)){return ;}function n(t,e){return Function.prototype.apply.apply(t,e)}function r(t,e){return function(){return t.apply(e,arguments)}}function i(t){var e=!!t&&"length"in t&&t.length,n=_typeof(t);return"function"===n?!1:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function a(t,e,n){var r,a=0;if(t)if(i(t))for(r=t.length;r>a&&e.call(t[a],t[a],a)!==!1;a++);else for(a in t)if((n||Object.prototype.hasOwnProperty.call(t,a))&&e.call(t[a],t[a],a)===!1)break;return t}function o(t){return Eo?Eo(t):t}function s(t){return function(e){return"Array"===t&&Array.isArray?Array.isArray(e):Object.prototype.toString.call(e)==="[object "+t+"]"}}function c(){this.events={}}function u(t){var e=arguments.length;if(2>e||!t)return t;var n=Io.call(arguments,1);return a(n,function(e){a(e,function(e,n){t[n]=e})}),t}function l(t,e){for(var n=-1,r=0,i=null==t?0:t.length,a=[];++n<i;){var o=t[n];e(o,n,t)&&(a[r++]=o)}return a}function f(t,e){return t?e?t.replace(/\{(\w+.?\w+)\}/g,function(t,n){return e[n]||""}).replace(/\{(\d+)\}/g,function(t,n){return e[n]||""}):t:""}function d(t,e,n){var r;if(null==t)return-1;var i=Object(t),a=i.length>>>0;if(0===a)return-1;var o=+n||0;if(Math.abs(o)===1/0&&(o=0),o>=a)return-1;for(r=Math.max(o>=0?o:a-Math.abs(o),0);a>r;){if(r in i&&i[r]===e)return r;r++}return-1}function p(t){var e=!1;try{/\{\s+\[native code\]/.test(Function.prototype.toString.call(t))&&(e=!0)}catch(n){}return e}function h(t){return JSON.parse(t)}function m(t){return JSON.stringify(t)}function v(t){return new Function("return "+t)()}function g(t,e){switch(_typeof(t)){case"object":if(!t)return e===Bo?null:"null";if(t instanceof Array){var n=Io.call(t);return a(n,function(t,e){n[e]=g(t,jo)}),"["+n.join(",")+"]"}if(t instanceof Date)return t.getTime().toString();var r="";return a(t,function(t,e){if(!Ao(t)){var n=g(t,Bo);if(n!==Mo){var i=g(e,qo);r+=i+":"+n+","}}}),r&&(r=r.substr(0,r.length-1)),"{"+r+"}";case"string":return Do+t.replace(Lo,"\\$1").replace(Ho,"\\n")+Do;case"number":return isNaN(t)?null:t;case"boolean":return t;case"function":return g(t.toString());case"undefined":return e===Bo?Mo:e===jo?"null":"undefined";default:return'"undefined"'}}function y(){var t=Uo&&Uo.stringify;if(!Ao(t)||!p(t))return!1;var e=!0;try{var n=[Boolean,Number,String,Object,Array];a(n,function(t){return t.prototype.toJSON?(e=!1,!1):void 0})}catch(r){}return e}function _(){var t=Uo&&Uo.stringify;return Ao(t)&&p(t)}function x(){ko=_()?h:v,Po=y()?m:g}function b(t,e){var n=null==t?0:t.length;if(!n)return-1;for(var r=n;r--;)if(t[r]===e)return r;return r}function E(t){return setTimeout(t,0)}function T(t){return setTimeout(t,0,{__ty_ignore:!0})}function S(){}function A(){return+new Date}function w(t,e,n,r){return t.addEventListener(e,n,r)}function C(t,e,n){return t.attachEvent("on"+e,n)}function O(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}}function N(t){return t&&To(t)?ko(t):t}function k(t,e){return setTimeout(t,e||0,{__ty_ignore:!0})}function P(t){return t?To(t)?t.length:window.ArrayBuffer&&t instanceof ArrayBuffer?t.byteLength:window.Blob&&t instanceof Blob?t.size:t.length?t.length:0:0}function I(t,e){Rl[t]=e}function R(t){t=t||{},this._contexts=t.contexts||null,this._name=t.name,this._tags=null,this._metrics=null}function D(){Dl.scope||(Dl.scope=new R({name:"ROOT"}))}function L(){D(),Dl.scope.setContext.apply(Dl.scope,arguments)}function H(){D(),Dl.scope.setExtraContext.apply(Dl.scope,arguments)}function j(t,e,n){if(t&&e){n||(n="scope");var r=e?e.getData():null;return r&&(t[n]=r),t}}function q(t,e,n){return n||(e===Nu?n=Du:e===ku&&(n=Lu)),"".concat(t,"_").concat(e||ql,"_").concat(n||Bl)}function B(t){if(t&&wo(t)){var n=t.type,r=t.name,i=t.handler,a=t.options;if(!(null==jl[n]||r&&d(jl[n],r)<0||!Ao(i)||a&&!wo(a))){var o=q(n,r,a&&a.position);Ml[o]||(Ml[o]=[]),Ml[o].push(t),n===Eu&&(r===Cu&&e.TINGYUN&&e.TINGYUN.inited&&Y({type:Eu,name:Cu}),r===Ou&&Dl.pageLoadEventEnd&&Y({type:Eu,name:Ou}))}}}function M(t,e){B({type:Eu,name:t,handler:e})}function U(t,e,n){B({type:Tu,name:t,handler:e,options:n})}function F(t,e){B({type:Su,name:t,handler:e})}function G(t){B({type:Au,handler:t})}function Y(t){var e=t.type,n=t.name,r=t.hookPostion,i=t.args,o=q(e,n,r),s={exist:!1,results:[]};if(Ml[o]){s.exist=!0;var c=t.scope;c||(c=new R);try{a(Ml[o],function(t){var e=t.handler,n=t.options;n=n||{};var r=u(i||{},{scope:c}),a=e.call(c,r);s.results.push(a)})}catch(l){}}return s}function z(t,e){return jl[t]&&d(jl[t],e)>-1}function J(t){function e(){}return e.prototype=t,new e}function K(){try{return e.self!==e.top}catch(t){return!1}}function W(t){X(),Wl=t||{},Vl=Ul(Wl),u(Vl,{isGather:!1,fp_threshold:vl,fs_threshold:gl,dr_threshold:yl,trace_threshold:_l,pvid:Yo(),ref:Gl.URL,referrer:Gl.referrer,v:"3.3.10",av:"3.3.10",ua:(Jl||{}).userAgent,baseInfo:{}}),Ql={pvid:Vl.pvid,ref:Vl.ref,referrer:Vl.referrer,v:Vl.v,av:Vl.av,ua:Vl.ua},K()&&(Ql.ifr=1)}function V(t){u(Ql,t)}function X(){Vl={},Wl={}}function $(){try{Hl||(Hl=e.navigator.userAgent.substring(0,256))}catch(t){}return Hl}function Q(){return tf}function Z(){return ef}function tt(){return nf}function et(){return e.webkit&&e.webkit.messageHandlers&&e.webkit.messageHandlers.nbsBrowserAgent&&e.webkit.messageHandlers.nbsBrowserAgent.postMessage}function nt(){return"undefined"!=typeof nbsJsBridge&&nbsJsBridge.postMessage}function rt(){return et()||nt()}function it(t){return To(t)||(t=Po(t)),t}function at(t,e){var n=t.url,r=t.data,i=(t.header,t.callback),a=t.method,o=t.timeout,s=O(i),c=new XDomainRequest;c[ns]=!0,a=a||pl,c.open(a,n),c.onload=function(){s(c.responseText),e()},c.onerror=function(t){s(t),e()},o&&(c.timeout=o),sf(function(){a===pl?c.send(it(r)):c.send()})}function ot(t,e){var n=t.url,r=t.data,i=t.header,a=t.callback,o=t.method,s=t.timeout,c=O(a),u=new Yl;try{u[ns]=!0,o=o||pl,u.open(o,n,!0),u.overrideMimeType&&u.overrideMimeType("text/html"),s&&(u.timeout=s),u.onreadystatechange=function(){4==u.readyState&&(c(u.responseText),e())},u.onerror=function(){c(),e()};for(var l in i)u.setRequestHeader(l,i[l]);o===pl?u.send(it(r)):u.send()}catch(f){e()}}function st(t,e){var n=t.url,r=t.data,i=(t.header,t.callback),a=Jl.sendBeacon(n,it(r));a&&(i&&i(),e())}function ct(t,e){var n={url:t,header:{"content-type":"text/plain;charset=UTF-8"},body:it(e)},r={type:0,params:{ri:n}};return it(r)}function ut(t,n){var r=t.url,i=t.data,a=t.callback;try{e.webkit.messageHandlers.nbsBrowserAgent.postMessage(ct(r,i))}catch(o){}a&&a(),n()}function lt(t,e){var n=t.url,r=t.data,i=t.callback;try{nbsJsBridge.postMessage(ct(n,r))}catch(a){}i&&i(),e()}function ft(t){this.size=t||100,this.queue=[],this.running=!1}function dt(){rf=ot,cf=!1,$l.initiator=rl}function pt(t){of=new ft(t)}function ht(t){of.add(t)}function mt(){this.xhrs=[],this.errs=[],this.resErrs=[],this.clear=function(){this.xhrs=this.errs=this.resErrs=null},c.call(this)}function vt(){var t="";try{t=e.location.protocol}catch(n){}return d(_f,t)<0&&(t=yf),t}function gt(t){if(!t)return null;var e=t.indexOf(":");return e>-1&&(t=t.substring(0,e)),t}function yt(t){xt(t,xf)}function _t(t){xt(t,bf)}function xt(t,e){var n="ok";return t?void e.push(t):n=e.length?e.join("\n"):n}function bt(t){try{return N(t)}catch(e){yt(e&&e.message)}return null}function Et(t,e,n){if(null==t[e]||So(t[e]))So(t[e])?t[e].push(n):t[e]=n;else{var r=t[e];t[e]=[r],t[e].push(n)}}function Tt(t){return t.send_protocol?t.send_protocol:t.pageProtocol!==gf&&/^https/i.test(t.pageProtocol)?yf:gf}function St(t){if(!t||!To(t))return"";var e,n=t.indexOf("?");return n>=0&&(e=t.substring(n+1)),e}function At(t){var e=St(t),n=Nt(e);return{queryObj:n,queryString:e}}function wt(t){var e=St(t);return Nt(e)}function Ct(t){return t&&t.indexOf("?")&&t.lastIndexOf("=")&&t.lastIndexOf("=")>t.indexOf("?")?wt(t):{}}function Ot(t){var e={};return t=t||"",To(t)&&t?e=Nt(t):e}function Nt(t){var e={};return t&&a(t.split("&"),function(t){var n=t.split("="),r=kt(n[0]),i=kt(n[1]);if(To(i)&&window.isNaN(i)){var a=bt(i);null!=a&&(i=a)}r&&null!=i&&Et(e,r,i)}),e}function kt(t){try{return decodeURIComponent(t)}catch(e){}return null}function Pt(t){var e=[];return a(t,function(t,n){var r=o(n)+"="+o(t);e.push(r)}),e.join("&")}function It(t,e){var n=Pt(e);return t+=(t.indexOf("?")>0?"&":"?")+n}function Rt(t,e){return e?pf+"//"+t:t}function Dt(t){pf=Tt(t)}function Lt(){e.TINGYUN_RELEASE&&e.TINGYUN_RELEASE.id&&(Vl.releaseId=e.TINGYUN_RELEASE.id)}function Ht(){et()?Ef=function(t){window.webkit.messageHandlers.nbsBrowserAgent.postMessage(t)}:nt()&&(Ef=function(t){nbsJsBridge.postMessage(t)})}function jt(t,e){if(null!=Ef&&Ao(Ef)){var n={type:1,params:{event_name:t}};e&&(n.params.data=e);try{Ef(Po(n))}catch(r){}}}function qt(){return Dl.did}function Bt(t){null!=t&&(Dl.did=t,mf(qc,t))}function Mt(){var t=Dl.uid;return t?t:(t=hf(Hc),t?(Dl.uid=t,t):null)}function Ut(t,e){e=e||{},null!=t&&(Dl.uid=t,e.noStore||mf(Hc,t),jt(Al,{id:Dl.uid}))}function Ft(){var t={did:qt()},e=Mt();return e&&(t.uid=e),t}function Gt(){if(!Dl.did){var t=hf(qc);t||(t=Yo(),mf(qc,t)),Dl.did=t}if(!Dl.uid){var e=hf(Hc);e&&(Dl.uid=e)}}function Yt(t){var e=!0;if(t.beacon_config&&wo(t.beacon_config)){var n=gt(t.pageProtocol),r=n&&t.beacon_config[n];r&&(t.beacon=r,e=!1)}t.relativeBeaconProtocol=e}function zt(t){var n=Ft(),r=u({url:e.location.href},Ql,n,t||{},Vl.baseInfo,ff||{});return Lt(),Vl.releaseId&&(r.rid=Vl.releaseId),r}function Jt(t){var e=Kt();return t=zt(t),{beacon:e,query:t}}function Kt(){return Rt(Vl.beacon,Vl.relativeBeaconProtocol)}function Wt(t){var e=t.beacon,n=t.path,r=t.query;return It("".concat(e).concat(n),r)}function Vt(){if("undefined"!=typeof nbsJsBridge&&nbsJsBridge.context){var t=nbsJsBridge.context;null!=t.deviceId&&Bt(t.deviceId),null!=t.userId&&Ut(t.userId),L(t.context),Dl.nbsJsBridgeData=t}}function Xt(){return Dl.nbsJsBridgeData.sessionId}function $t(t){Dl.nbsJsBridgeData.sessionId=t}function Qt(t,e){t&&Ao(e)&&(Tf[t]||(Tf[t]=[]),Tf[t].push(e))}function Zt(t,e){t&&Tf[t]&&0!==Tf[t].length&&a(Tf[t],function(t){try{t(e)}catch(n){}})}function te(){return wf}function ee(t){wf=t[0],t[0]&&(Ql.sid=t[0]),t[1]&&(Ql.__s=+t[1])}function ne(){delete Ql.sid,delete Ql.__s}function re(){return Vl.sessionMode==Ku&&Af.localStorage}function ie(){var t=hf(jc);if(t){var e=t.split(Uc);return e&&(e[1]=+e[1],e[2]=+e[2]),e}return null}function ae(t){t&&3===t.length&&(mf(jc,t.join(Uc)),ee(t))}function oe(t,e){var n=te(),r=A();t||(t=Yo());var i=[t,r,r];ae(i);var a=te();Zt(kl,{prev:n,current:a,init:e});var o=Xt();return null!=o&&$t(a),i}function se(){var t=ce(!1),e=t.session,n=t.valid;n&&(e[2]=A(),ae(e))}function ce(t){var e=ie(),n=!0,r=Xt();return n=!e||3!==e.length||!e[0]||isNaN(e[1])||isNaN(e[2])?!1:null!=r?r===e[0]:A()-e[2]<=Bc&&A()-e[1]<=Mc,n||oe(r,t),{session:e,valid:n}}function ue(){var t=ce(!0),e=t.session,n=t.valid;n&&ae(e)}function le(t){re()&&(oe(t,!1),jt(El,{id:te()}))}function fe(t,e){var n=!1;return a(t,function(t){var r=e.call(this,t);return r?(n=!0,!1):!0}),n}function de(){return j({type:bs,optCustomParam:Dl.opt_custom_param,info:$l},Dl.scope)}function pe(t,e){if(t){re()&&se(),e=e||{};var n=e.requestInfo;n||(n=Jt()),u(n.query,e.query||{},{ps:e.crossPage||t.type===ws&&t.subType===ks?1:0,__r:A()}),n.path="/action";var r=[e.commonActionInfoMessage?e.commonActionInfoMessage:de(),t];n.data=r;var i=Y({type:Au,args:n,scope:Dl.scope});if(!i.exist||!fe(i.results,function(t){return t===!1})){Cf&&(Cf=!1,x());try{var o=[];a(n.data,function(t){var e=he(t);e&&o.push(e+Po(t))});var s=o.join("\n"),c=Wt(n);lf.emit("send",c,s,function(){e.cb&&e.cb.call(null,t)})}catch(l){}}}}function he(t){var e="";return e=t.type===bs?js:t.type===Es?Is:t.type===Ts?Rs:t.type===As?Ls:t.type===Ss?Ds:t.type===ws?Hs:t.type===Os?qs:t.type===Qu?Zu:t.type}function me(t,e){var n;return t&&(n=!0,a(t,function(){return n=!1},e)),!!n}function ve(){var t={};return a(Of,function(e){t[e]={current:0,children:0}}),t}function ge(t,e){a(t,function(t){t.cid===e.id&&(t.items=e.items||[])})}function ye(t,e){a(t,function(t){a(e,function(e){t.cid===e.id&&(t.state||(t.state=e.state),t.items=e.items||[])})}),a(e,function(t){ye(t.items,t.children)})}function _e(t){t=t||{},this.id=++Dl.uniqueId,this.parent=t.parent||null,this.children=[],this.name=t.name||"",this.type=t.type||Es,this.subType=this.type===Es?t.subType||"click":t.subType,this.items=[],this.remain=ve(),this.s=t.s||A(),this.e=null,this.data=t.data,this.state=Ms,this.crossPage=t.crossPage||!1,this.callback=t.callback||{},this.endLock=t.endLock,this.registerTimeout(),this.closed=!1,this.isTimeout=!1,this.cleared=!1,this.stateChanged=!1,this.actionCount={ajax:this.type===Ts?1:0,iframe:this.type===As?1:0},this.sent=!1,this.sendOptions={},this.speBinded=!1,this.spe=null,this.waitingSpeEnd=!1,this.waitingSpeTimer=null,null!=this.parent&&this.parent.children.push(this),this.eventData=null,this.resource={handler:{},statistic:{load:{},error:{},total:{},timeout:{}},record:{timeout:[],error:[]}},this._ctx={}}function xe(t){ee([t.id,t.startTime]),Nf=t}function be(t,e,n){if(!re()){var r={id:t||Yo(),startTime:A()};return To(e)&&(r.name=e),Vl.session_handler&&Vl.session_handler.create&&Vl.session_handler.create.call(this,r),xe(r),Se(Vu,n),r}}function Ee(t,e){re()||(Se($u,e),Vl.session_handler&&Vl.session_handler.end&&(!t&&Nf&&(t=Nf.id),Vl.session_handler.end.call(this,t)),ne(),Nf=null)}function Te(t){re()||Nf&&wo(t)&&Se(Xu,t)}function Se(t,e){if(Nf){var n=Nf,r=n.id,i=n.startTime,a=n.name,o={type:Wu,id:r,time:A(),startTime:i};a&&(o.name=a),e&&(o.scope={contexts:e}),_e.buildImmediateAction(Wu,t,o)}}function Ae(){if(Vl.session_handler&&Vl.session_handler.init){var t;try{t=Vl.session_handler.init.call(null)}catch(e){}t&&xe(t)}}function we(t){var e={},n={},r=At(t),i=r.queryObj,a=r.queryString;return i&&(e=Ce(i,Vl.requestParamKeys[as],Vl.requestParamKeys[os]),n[ss]=Pe(i,Vl.optCustomParamRules[ss],!0)),{requestParams:e,optCustomParams:ke(n),operaAllParam:a}}function Ce(t,e,n){var r={};return t&&e&&e.length&&e.length>0&&a(e,function(e){var n=t[e];null!=n&&Et(r,e,n)}),t&&n&&n.length&&n.length>0&&a(n,function(e){var n=Oe(ds,e),i=n(t);null!=i&&Et(r,e,i)}),r}function Oe(t,e){var n=t+"."+e;if(Rf[n])return Rf[n];var r=(e||"").split("."),i="";e&&0!==e.indexOf("[")&&(i=".");var o=t;a(r,function(t,e){0===e&&(o+=i),o+=t.indexOf("-")>-1&&0!==t.indexOf("[")&&t.indexOf("]")!==t.length-1?"['"+t+"']":(e>0?".":"")+t});var s;try{s=new Function(t,"try{return "+o+";}catch(e){}return null;")}catch(c){s=S}return Rf[n]=s,s}function Ne(t){return t+="",t&&t.substr(0,128)||""}function ke(t){var e={};return a(t,function(t,n){me(t)||(e[n]=t)}),e}function Pe(t,e,n){var r={};return t&&e&&e.length&&e.length>0&&a(e,function(e){var i=t[e];if(null!=i)Et(r,e,i);else if(n){var a=Oe(ds,e);i=a(t),null!=i&&Et(r,e,i)}}),r}function Ie(t){kf&&t()}function Re(){kf=!1}function De(){kf=Vl.debuggable||!1}function Le(t){return t.loadEventEnd||t._end}function He(e){var n=e.performance||{},r=n.timing,i=r&&r.navigationStart?r.navigationStart:t;return{performance:n,timing:r,startTime:i}}function je(t,n){var r=He(n),i=r.performance,o=r.timing,s=r.startTime,c=0;if(Il[Hu]&&Il[Hu]>0?(c=Il[Hu],t.__fp=Hf):i.getEntriesByName&&o?(c=o.domLoading,a(Il.resources,function(t){var e=i.getEntriesByName(t);if(1===e.length){var n=e[0].responseEnd;n>c&&(c=n)}}),c-=s,t.__fp=Bf):e.TINGYUN&&e.TINGYUN[ru]&&(c=e.TINGYUN[ru]-s,0>c&&(c=0),t.__fp=Mf),!c||0>=c){if(n.chrome&&n.chrome.loadTimes){var u=n.chrome.loadTimes();u&&u.firstPaintTime&&(c=1e3*u.firstPaintTime-s,t.__fp=jf)}else o&&o.msFirstPaint&&(c=o.msFirstPaint-s,t.__fp=qf);(!c||0>=c)&&(c=0,t.__fp=Lf)}return Math.round(c)}function qe(t,n){var r=He(n),i=r.performance,o=r.timing,s=r.startTime,c=t.fp||0;if(t.__fs=Jf,Il[ju])c=Il[ju],t.__fs=Ff;else if(Il.lcpStopTime)c=Il.lcpStopTime-s,t.__fs=Gf;else if(Be()){var u=Il.imageResources||[],l=e.innerHeight,f=e.innerWidth;l||(l=Gl.documentElement.clientHeight),f||(f=Gl.documentElement.clientWidth);var d=[];u.length>0?a(u,function(t){Ue(t.element,l,f)&&d.push(t)}):Ao(i.getEntriesByName)&&a(Gl.querySelectorAll("img"),function(t){Ue(t,l,f)&&d.push({element:t})});var p=(o.loadEventEnd||lf.loadEventEnd)-s;a(d,function(e){if(e.loadTime){var n=e.loadTime-s;n>c&&(c=n,t.__fs=zf)}else if(e.element&&e.element.src){var r=i.getEntriesByName(e.element.src);if(r.length){var a=r[0],o=a.responseEnd;a.fetchStart<=p&&o>c&&(c=o,t.__fs=Yf)}}})}return c<=t.fp&&(c=t.fp||0,t.__fs=Jf,0>=c&&(c=0,t.__fs=Uf)),Math.round(c)}function Be(t){var e=!0,n=Gl.createElement("img");return n.getBoundingClientRect||(e=!1),e}function Me(t){if(!t)return!1;if(!Vl.fs_resources||0===Vl.fs_resources.length)return!0;var e=!1;return a(Vl.fs_resources,function(n){return t.indexOf(n)>-1?(e=!0,!1):void 0}),e}function Ue(t,e,n){return t.src&&Me(t.src)&&Fe(Ge(t),e,n)&&!Ye(t)}function Fe(t,n,r){if(t){var i=e.pageYOffset,a=t.top+(0===i?0:i||Gl.scrollTop||0)-(Gl.clientTop||0);if(a>=n)return!1;var o=t.left;return o>=0&&r>o}return!1}function Ge(t){if(Q())return Ao(t.getBoundingClientRect)?t.getBoundingClientRect():void 0;var e;try{e=t.getBoundingClientRect?t.getBoundingClientRect():void 0}catch(n){}return e}function Ye(t){return Af.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:ze(t)}function ze(t){for(;t&&1===t.nodeType;){if("none"===Je(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function Je(t){return t.style&&t.style.display}function Ke(t,e){var n=He(e),r=n.timing,i=n.startTime,a=0;r&&(a=r[Ks]||r.domInteractive||r.domLoading||a),0>=a?(lf.domContentLoadedEventStart?(a=lf.domContentLoadedEventStart,t.__dr=Vf):(a=lf._end,t.__dr=Xf),0>=a&&(t.__dr=Kf)):t.__dr=Wf;var o=a-i;return 0>o&&(o=0),Math.round(o)}function We(e,n,r){e.loadEventEnd=e.le;var i=n.performance&&n.performance.timing||{},a=i.navigationStart||t,o=0;if(r&&r.hasChildType(Ts))o=A()-a;else{var s=i.loadEventEnd||lf.loadEventEnd||A(),c=0;a>0&&s>a&&(c=s-a);var u=[e.fs,e.dr,e.fp,c];o=Math.max.apply(null,u)}return Math.round(o)}function Ve(t,e){var n=t.fp||0,r=He(e),i=r.startTime,a=A()-i-n;return 0>a&&(a=0),a}function Xe(e){function n(t){return o[t]>0?o[t]-s:0}var r={},i=e.performance||{},o=i.timing||{},s=e.TINGYUN&&e.TINGYUN.globalStart||t,c=e.TINGYUN&&e.TINGYUN.currentAgent||lf;if(o){Ie(function(){var t=Df.t={};a(o,function(e,n){Ao(e)||(t[n]=e)},!0)}),s=o.navigationStart,r={ns:s,f:n(Gs),qs:n(Ys),rs:n(zs),re:n(Js),os:n(Ks),oe:n(Ws),oi:n(Vs),oc:n(Xs),ls:n($s),le:n(Qs),tus:n(Zs),tue:n(tc)};var u=n(ec),l=n(nc),f=n(rc),d=n(ic),p=n(ac),h=n(oc);if(r.cs=p,r.ce=h,r.ds=u,r.de=l,(d-f>0||d>0)&&(r.es=f,r.ee=d),0==r.le){var m=Le(c);r.ue=m-s}c&&(c._le=r.ue||r.le),o[sc]?r.sl=n(sc):r.sl=0}else r={t:s,le:Le(c)-s};return r.je=c&&c.errs&&c.errs.length||0,r}function $e(t){if(!t)return{};var e=Xe(t);return e.fp=je(e,t),e.dr=Ke(e,t),e.fs=qe(e,t),e.le=We(e,t),Qe(e)}function Qe(t){var e={f:t.f,fp:t.fp,fs:t.fs,dr:t.dr,le:t.le,loadEventEnd:t.loadEventEnd,je:t.je,load:t.load};return u(e,Dl.pageServerData),Dl.iframeMetric=e,e}function Ze(){Dl.enableLCPObserver=!1;try{a(Dl.performanceObserver,function(t){t&&t.disconnect()})}catch(t){}}function tn(){Il.lcpStopTime=A(),Dl.enableLCPObserver=!1;try{var t=Dl.performanceObserver[ju];t&&t.disconnect()}catch(e){}}function en(){var t=we(Vl.ref);Dl.pageUrlInfo=t,Dl.opt_custom_param=t.optCustomParams}function nn(t,e,n){if(!n)try{n=e&&window[e]||Gl.cookie||""}catch(r){}if(n){var i=n.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return i?i[3]:null}return null}function rn(t,e,n,r,i){var a=t+"="+e;if(n){var o=new Date;o.setTime(o.getTime()+1e3*n),a+=";expires="+o.toGMTString()}r&&(a+=";path="+r),(i||Gl).cookie=a}function an(t){var e,n;if(t)if(0===t.indexOf(gs)){var r=t.substring(gs.length);try{n=Qf.decode(r),e=bt(n)}catch(i){}}else{try{n=decodeURIComponent(t),e=bt(n)}catch(i){}if(!e)try{n=decodeURIComponent(n),e=bt(n)}catch(i){yt(i&&i.message)}}return e}function on(){if(!Vl.pageServerData){var t=sn(),e={};t&&wo(t)&&(e.s_id=t.id,e.s_tname=t.tname,e.s_tid=t.tid,e.s_rid=t.rid,e.s_duration=t.duration,"user"in t&&(e.s_user=t.user,Ut(t.user)),"bid"in t&&(e.s_bid=Ne(t.bid)),"ber"in t&&(e.s_ber=t.ber),"isError"in t&&(e.s_isError=t.isError)),Vl.pageServerData=e}}function sn(){var t={},e=nn(hs,ps);return e&&(t=an(e),rn(hs,"",-1e3,"/")),t}function cn(t){var e={};if(t){var n=[vu,gu,yu,_u,xu];a(t.split(""),function(t,r){e[n[r]]="1"===t})}return e}function un(t){var e={};return a(t,function(t){t&&d(e[t.type]||[],t.key)<0&&(e[t.type]=e[t.type]||[]).push(t.key)}),e}function ln(t){return dn(t,!0)}function fn(t,e){return t in Vl&&Vl[t]>0?Vl[t]:e}function dn(t,e){return t in Vl?1==Vl[t]:e}function pn(t,e){return t in Vl?Vl[t]:e}function hn(t){W(t),u(Vl,{requestParamKeys:un(Vl.request_param_keys),optCustomParamRules:un(Vl.opt_custom_param_rule),corsDomains:pn("cors_domains",[]),ignoreNoFilePropError:ln("ignore_err"),debuggable:ln("debug"),sessionTimeout:fn("session_timeout",Bc),collectAllParam:cn(Vl.collect_all_param),routerEnable:ln("router_enable"),hook_auto_event:ln("hook_auto_event"),hook_timer:dn("hook_timer",!1),hook_iframe:ln("hook_iframe"),hook_cross_page:ln("hook_cross_page"),hook_inline_event:ln("hook_inline_event"),inline_event_associate_threshold:fn("inline_event_associate_threshold",Lc),script_event_associate_threshold:fn("script_event_associate_threshold",bu),spaMetricEnable:ln("spa_metric_enable"),lcpEnable:ln("lcp_enable"),pageLoadDelay:fn("page_load_delay",Bu),resourceWaitTime:fn("resource_wait_time",Mu),resourceAssociateThreshold:fn("resource_associate_threshold",Uu),eventResources:pn("event_resources",[]),eventResourcesIgnore:pn("event_resources_ignore",[]),fs_resources:pn("fs_resources",[]),sessionMode:pn("session_mode",Ku),exposeOriginError:ln("expose_origin_error"),ajaxBlacklist:pn("ajax_blacklist",[]),eventTimeout:fn("event_timeout",xs),configLoad:dn("config_load",Zf.configLoad||!1),configLoadInterval:fn("config_load_interval",ll),configLoadTimeout:fn("config_load_timeout",fl),console_debug:dn("console_debug",!1),set_timeout_max_depth:fn("set_timeout_max_depth",pc),mpaas_rpc:ln("mpaas_rpc"),mpaas_rpc_api:pn("mpaas_rpc_api",hl),req_capacity:fn("req_capacity",ml),x_server_switch:ln("x_server_switch"),serverTiming:dn("server_timing",!1),collect_noajax_hashroute:dn("collect_noajax_hashroute",!1),upload_timeout_ajax:dn("upload_timeout_ajax",!1),hook_xhr_setrequestheader:dn("hook_xhr_setrequestheader",!0),router_event_delay:fn("router_event_delay",iu),monitor_dom_mutation:dn("monitor_dom_mutation",!0),user_action_timeout:fn("user_action_timeout",Yc),monitorResources:pn("monitor_resources",[]),monitorRage:ln("monitor_rage"),rageCount:fn("rage_count",xl),rageInterval:fn("rage_interval",bl),replayEnabled:dn("replay_enabled",!1),replaySampleRate:fn("replay_sample_rate",-1),replayReportInterval:fn("replay_report_interval",wl),replayOptions:pn("replay_options",{})});var n=Vl.apm_headers||[];Vl.apm_arms&&d(Vl.apm_headers,Qc)<0&&n.push(Qc),Vl.apmHeaders=n,a(Vl.corsDomains,function(t){return"*"===t?(Vl.apmEnableAllCorsDomains=!0,!1):!0}),a(td,function(t){Wl[t]&&(Vl.baseInfo[t]=Wl[t],e[es][t]=Wl[t])});try{Vl.baseHref=(document.getElementsByTagName("base")[0]||{}).href}catch(r){}}function mn(){De(),Vt(),Ht(),Gt(),Vl.appKey&&!rt()&&dt(),Vl.pageProtocol=vt(),Dt(Vl),Yt(Vl),V(Ft()),re()?ue():Ae(),on(),Lt(),en()}function vn(){return Vl}function gn(t,e){Zf[t]=e}function yn(t,e,n){t&&t.context&&t.context.parent&&(t.pcid=t.context.parent.id,t.context.parent.updateRemain(1,e),t.context.parent.items.push(t.context.data),n&&t.context.parent.children.push(t.context))}function _n(t){if(!t)return!1;var e=Vl.eventResources.length>0,n=Vl.eventResourcesIgnore.length>0;return e&&n?xn(t)&&bn(t):e?xn(t):n?bn(t):!0}function xn(t){var e=!1;return a(Vl.eventResources,function(n){return t.indexOf(n)>-1?(e=!0,!1):void 0}),e}function bn(t){var e=!0;return a(Vl.eventResourcesIgnore,function(n){return t.indexOf(n)>-1?(e=!1,!1):void 0}),e}function En(t){return t&&(t.type===ws||t.type===Es&&t.subType!==Sc)}function Tn(t){var e=ed.indexOf(t.nodeName)>-1&&_n(t.src)&&!Ye(t);if(e){var n=Dl.recentFinishedAjaxContext;if(n&&n.data){var r=A(),i=r-n.data.end;if(i<=Vl.resourceAssociateThreshold){var o=_e.getRootContext(n,function(t){return t.type===ws||t.type===Es&&!t.subType===Sc});o&&o.addResource(t,r)}}}a(t.childNodes,Tn)}function Sn(){if(Vl.spaMetricEnable&&Ao(window.MutationObserver)){var t=document.getElementsByTagName("body"),e=t&&t[0];if(e){var n={childList:!0,subtree:!0},r=function(t){a(t,function(t){a(t.addedNodes,Tn)})};try{Pf=new MutationObserver(r),Pf.observe(e,n)}catch(i){}}}}function An(){var t=Gl.getElementsByTagName("img");a(t,function(t){t.complete||t[eu]||(t[eu]=!0,Fo(t,Jo,function(){Il.imageResources.push({loadTime:A(),element:t})}))})}function wn(t){var e=Gl.createElement("script");e.type="text/javascript";try{e.appendChild(Gl.createTextNode(t))}catch(n){e.text=t}Gl.getElementsByTagName("head")[0].appendChild(e)}function Cn(){function t(t){try{var e=t.getEntries();e&&a(e,function(t){t.entryType===ju&&Dl.enableLCPObserver?Il[ju]=t.renderTime||t.loadTime:t.entryType===Hu&&t.name===qu&&(Il[Hu]=t.startTime)})}catch(n){}}if(e.PerformanceObserver){var n=[Hu];Vl.lcpEnable&&n.push(ju);var r=[],i=e.PerformanceObserver.supportedEntryTypes||[];if(a(n,function(t){i.indexOf(t)>-1&&r.push(t)}),Ie(function(){Df.et=r}),0!=r.length)try{a(r,function(n){Dl.performanceObserver[n]=new e.PerformanceObserver(t),Dl.performanceObserver[n].observe({type:n,buffered:!0})})}catch(o){}}}function On(t){Cn(),rd.on(Jo,O(function(){n();var e=A();Ie(function(){Df.load=e}),t.loadEventEnd=e,clearInterval(nd)})),a(tt(),function(t){Fo(e,t,function(e){Ie(function(){(Df.e[t]||(Df.e[t]=[])).push(A())}),rd.emit(t,e)})});var n=O(function(){Vl.monitor_dom_mutation&&Sn();var n=A();if(Ie(function(){Df.end=n}),t.domContentLoadedEventStart=n,Q()&&e.performance&&e.performance.getEntriesByName){if(!Gl.querySelectorAll)return;Il.resources=Il.resources||[],a(Gl.querySelectorAll("head>link,head>script"),function(t){var e;"LINK"==t.tagName?e=t.href:"SCRIPT"!=t.tagName||t.defer||t.async||(e=t.src),e&&Il.resources.push(e)})}});if(Q()&&Fo(Gl,Qo,n),Fo(Gl,Xo,function(t){Gl.readyState===$o&&n()}),(!Q()||e.performance&&!e.performance.getEntriesByName)&&(nd=setInterval(An,nu)),!Q())try{wn("if(window.TINGYUN) {window.TINGYUN.".concat(ru,"=+new Date();}"))}catch(r){}}function Nn(t){return If.call(t)}function kn(t){var e={},n=t.split(":");if(!n)return e;if(1===n.length)e.filename=n[0],e.lineno=0,e.colno=0,e.resolveLevel=tl;else if(n.length>=2){var r,i=n[n.length-1],a=n[n.length-2],o=!isNaN(+i),s=!isNaN(+a);o&&s?(r=2,e.lineno=+a,e.colno=+i,e.resolveLevel=nl):o?(r=1,e.lineno=+i,e.colno=0,e.resolveLevel=el):(r=0,e.lineno=0,e.colno=0,e.resolveLevel=tl),e.filename=(n.slice(0,n.length-r)||[]).join(":")}return e}function Pn(t){if(t&&(t=Nn(t))){var e;if(0===t.indexOf("at ")){var n=t.indexOf("("),r=t.indexOf(")");if(n>-1&&r>-1){var i=n+1;i>r&&(i=r);var a=t.substring(i,r);a&&(e=kn(a))}else{var o=t.split(" "),s=o[o.length-1];s&&(e=kn(s))}}else if(t.indexOf("@")>-1){var c=t.split("@");c[1]&&(e=kn(c[1]))}return e}}function In(t){this.limit=t,this.reset()}function Rn(t,e,n,r,i){return String(t)+String(e)+String(n)+String(r)+String(i)}function Dn(t,e,n,r){return String(t)+String(e)+String(n)+String(r)}function Ln(t,e,n,r,i,a,o,s){var c=this;c.id=t,c.time=A(),c.msg=e,c.lineno=r,c.colno=i,c.filename=n,c.count=1,c.stack=a&&a.stack||"",c.module=o,c.trigger=s||sd,c.error=a,c.fix();var u=Dn(e,r,i,o),l=ud[u];c.ep=l?0:1,ud[u]=!0,c.fep=0,c.trace={},this.recordFileName()}function Hn(e){var n=function(t){var e=[];return a(t,function(t){e.push(t.toObject())}),e}(cd.c);if(!n||!n.length)return null;var r={fu:ad?ad:ad++,os:parseInt((A()-(Il.pfStart||t))/1e3)};Pl.ulabel&&(r.ulabel=Pl.ulabel),_e.buildImmediateAction(Os,null,null,{actionOptions:u(r,{items:n})}),cd.reset()}function jn(t,e,n,r,i,o,s){if(e||!Vl.ignoreNoFilePropError){var c=!1;if(a(Vl.domains,function(t){return c=t.test(e),c?!1:void 0}),!c){var u=i&&i.moduleId,l=Rn(e,t,n,r,u),f=cd.get(l);f?f.increase():(f=new Ln(l,t,e,n,r,i,u,o),cd.add(l,f),lf.errs&&lf.errs.push(f));var d=f.initTraceInstance();if(f.triggerActionHook(d),s)try{var p=d.scope;if(p){var h=s;s.breadcrumbs?(p.setBreadcrumbs(s.breadcrumbs),h=s.contexts):s.contexts&&(h=s.contexts),p.setContext(h)}}catch(m){}return f.trace[d.id]={time:d.time,scope:d.scope},d.id}}}function qn(){var t=e.onerror;e.onerror=function(e,n,r,i,a){return jn(e,n,r,i,a),Ao(t)?t.apply(this,arguments):void 0},e.onerror._ty=!0}function Bn(){var t=e.onerror;t&&t._ty||qn()}function Mn(t,e){if(t){var n=t.message||"",r=t.stack,i=t.fileName||"",o=t.lineNumber||0,s=t.columnNumber||0;if(r&&(!i||0>=o||0>=s)){var c,u={},l=r.split(/\n/);a(l,function(t,e){var n=Pn(t);if(!n)return!0;var r=n.resolveLevel;if(r===nl){if(n.filename&&n.lineno>0&&n.colno>0)return c=n,!1}else u[r]||(u[r]=n)}),c||(c=u[el]||u[tl]),c&&(i=c.filename,o=c.lineno,s=c.colno)}return jn(n,i,o,s,{stack:r},od,e)}}function Un(){var t=Ro();return t?qn():Fo(e,zo,function(t){var n,r,i,a,o;(t instanceof e.Event||e.ErrorEvent&&t instanceof e.ErrorEvent)&&(n=t.message||t.error&&(t.error.message||t.error.constructor.name)||"",r=t.lineno||0,i=t.colno||0,a=t.filename||t.error&&t.error.filename||t.target&&t.target.baseURI||"",o=t.error),jn(n,a,r,i,o)}),rd.on(tt(),function(t){Hn()}).on(Jo,function(){t&&sf(Bn)}),setInterval(Hn,id,!0)}function Fn(t){return Ao(t)?t.apply(this):t}function Gn(t){if(t&&wo(t)){var e=t.name,n=t.msg,r=t.status,i=t.context,a=Fn(e),o=Fn(n),s=Fn(r),c=Fn(i),u={type:Qu,name:a,time:A()};u.name&&(o&&(u.msg=o),s&&(u.status=s),c&&wo(c)&&(u.scope={contexts:c}),_e.buildImmediateAction(Qu,null,u),jt(Sl))}}function Yn(t){t=t||{},this._capacity=t.capacity||10,this._cache={},this._cacheKeys=[],this._size=0}function zn(t,e,n){if(t&&n&&Ao(n)){var r=t[e];if(!r||!r._wrapped){var i=n(r,e);return i&&(i._wrapped=!0),t[e]=i,i}}}function Jn(t,n){return function(r){if(e[ys].hook&&e[ys].hook.eventCb&&er(r)){var i={originalCallback:t,eventHandlerType:n};return e[ys].hook.eventCb.call(this,arguments,i)}return t.apply(this,arguments)}}function Kn(t,e,n){return n===dd?Jn(t,e):(t.handleEvent=Jn(t.handleEvent,e),t)}function Wn(t){return Ao(t)}function Vn(t){return wo(t)&&Ao(t.handleEvent)}function Xn(t){var e;return Wn(t)?e=dd:Vn(t)&&(e=pd),{isValid:t&&e,listenerType:e}}function $n(t){return function(){var e=arguments[0],n=arguments[1],r=arguments[2],i=!0;r&&wo(r)&&r[xc]&&(i=!1);var a=Xn(n),o=a.isValid,s=a.listenerType;if(i&&fd.indexOf(e)>-1&&o){var c;if(n[Zc]&&n[Zc][this])c=n[Zc][this];else{var u=Kn(n,Ac,s);s===dd&&(n[Zc]||(n[Zc]={},n[Zc][tu]=0),n[Zc][this]={listener:u,options:arguments[2]},n[Zc][tu]++,c=n[Zc][this])}c&&(c.listener&&(arguments[1]=c.listener),c.options&&(arguments[2]=c.options))}return t&&t.apply(this,arguments)}}function Qn(t){return function(e,n){var r;try{r=t&&t.apply(this,arguments)}finally{try{if(n&&fd.indexOf(e)>-1){var i=n[Zc];i&&i[this]&&i[this].listener&&(null!=i[this].options?this.removeEventListener(e,i[this].listener,i[this].options):this.removeEventListener(e,i[this].listener),i[this]=null,i[tu]--,i[tu]<=0&&(n[Zc]=null,delete n[Zc]))}}catch(a){}}return r}}function Zn(){e.EventTarget&&(zn(e.EventTarget.prototype,"addEventListener",function(t){return $n(t)}),zn(e.EventTarget.prototype,"removeEventListener",function(t){return Qn(t)}))}function tr(){Object.getOwnPropertyDescriptor&&Object.defineProperty&&a(fd,function(t){var n="on"+t,r=Object.getOwnPropertyDescriptor(e.HTMLElement.prototype,n),i=r.get,a=r.set;Object.defineProperty(e.HTMLElement.prototype,n,{get:function(){return i.apply(this,arguments)},set:function(){var t=arguments[0];t&&(arguments[0]=Kn(t,wc,dd)),a&&a.apply(this,arguments)},configurable:!0,enumerable:!0})})}function er(t){return t&&t.target instanceof e.HTMLElement&&t.currentTarget instanceof e.HTMLElement;
}function nr(t){return!!t.match(nr.regex)}function rr(t){return t&&t.substr(0,256)||""}function ir(t){try{if(!t)return"";for(var e=[],n=t.parentNode,r=function(){var r=t.tagName,i=void 0;i=n.children;var a=void 0;a=i?1===l(i,function(t){return t.tagName===r}).length?r:"".concat(r,":nth-child(").concat(1+d(i,t),")"):r;var o=t.id?"#".concat(t.id):"",s=t.className;To(s)&&(s=Nn(s));var c="";if(s){var u=s.split(" ");u&&(c=l(u,function(t){return Nn(t)}).map(function(t){return".".concat(t)}).join(""))}e.unshift("".concat(a).concat(o).concat(c)),t=n,n=t.parentNode};n;)r();return"".concat(e.join(" > ")).toLowerCase()}catch(i){}}function ar(t){return!t.isTrusted||null!=t.pointerType&&!t.pointerType}function or(t,e,n){var r=t.target,i=r.nodeName,a=r.id,o=r.className,s=r.title,c=r.value,l=r.innerText,f=i+a,d=ar(t),p={type:Es,id:a,nodeName:i,className:o,title:s,value:c,text:i===kc?"":rr(l),path:ir(t.target),trigger:d?du:fu,range:pu},h=t[bc];if(h||(h=Yo(),t[bc]=h),p.eventId=h,d){var m=t.timeStamp&&A();gd&&Math.abs(m-gd.timestamp)<=Vl.script_event_associate_threshold&&(p.refId=gd.eventId)}else gd={timestamp:t.timeStamp&&A(),eventId:p.eventId};if(Oc===i){var v=t.target.getAttribute("src");v&&!nr(v)&&(p.src=v)}if(Nc===i){var g=t.target.getAttribute("href");g&&(p.href=g)}return p.eventHandlerType=e,new _e(u({name:f,type:Es,subType:t.type||Ec,data:p},n))}function sr(t,e){Dl.context=or(t,e)}function cr(){var t=Dl.context;t&&t.canEnd()&&t.end(),Dl.context=null}function ur(t,e){var n=e.originalCallback,r=e.eventHandlerType,i=t[0],a=!(i&&i.target&&hd.indexOf(i.type)>-1);if(!a)try{sr.call(this,i,r)}catch(o){}var s;try{s=n.apply(this,t)}finally{if(!a)try{Dl.context&&!Dl.context.canEnd({ignoreFields:[Ss]})&&(i[_c]=!0),cr.apply(this)}catch(o){}}return s}function lr(){a(hd,function(t){document.addEventListener(t,function(t){md.length>=hc&&md.shift(),md.push(t)},_defineProperty({capture:!0},xc,!0))})}function fr(t){try{return 13===(t+"").split(".")[0].length}catch(e){}return!1}function dr(n){var r=e.performance&&e.performance.timing?e.performance.timing.navigationStart:t,i=n.timeStamp;return i=i?fr(i)?i:Math.round(n.timeStamp+r):A()}function pr(t){var e=l(md,function(t){return!t[_c]}),n=e[e.length-1];if(n){var r=dr(n);if(Math.abs(r-t)<Vl.inline_event_associate_threshold){var i;return n[bc]&&(i=vd.get(n[bc])),i||(i=or(n,Cc,{s:r}),n[bc]&&vd.put(n[bc],i)),i}}}function hr(t){var e=[];try{e=l(md,function(e){return!e[_c]&&e.timeStamp===t.timeStamp&&t.target.nodeName===e.target.nodeName})}catch(n){}if(e.length>0){var r=e[0];return or(r,Cc,{s:dr(r)})}}function mr(){e[ys].hook&&(e[ys].hook.eventCb=ur),!e[ys].listenerHooked&&e.HTMLElement&&(Zn(),tr()),Vl.hook_inline_event&&lr()}function vr(t,e){this.flags=0,Ao(t.create)&&(this.create=t.create,this.flags|=_d),Ao(t.before)&&(this.before=t.before,this.flags|=xd),Ao(t.after)&&(this.after=t.after,this.flags|=bd),Ao(t.error)&&(this.error=t.error,this.flags|=Ed),this.data=e}function gr(t,e){if(!Sd){if(!wo(t)||!t)throw new TypeError("callbacks arguments must be an object");return Sd=new vr(t,e)}}function yr(t,e){var n=e||Sd.data;if(!n&&0!==(Sd.flags&_d)){var r=Sd.create(Sd.data);void 0!==r&&(n=r)}return function i(){0!==(Sd.flags&xd)&&Sd.before(this,n);var e=i;e._&&(e._=1);var r;if(Vl.exposeOriginError)try{r=t.apply(this,arguments)}finally{0!==(Sd.flags&bd)&&Sd.after(this,n)}else{try{r=t.apply(this,arguments)}catch(a){throw 0!==(Sd.flags&Ed)&&Sd.error(n,a),a}0!==(Sd.flags&bd)&&Sd.after(this,n)}return r}}function _r(t){return function(){var e;try{e=t.apply(this,arguments)}finally{Dl.context=null}return e}}function xr(t,e){return!Sd||Sd.flags<=0?t:yr(t,e)}function br(t,e){return _r(xr(t,e))}function Er(){this.id=null,this.active=null,this._set=[]}function Tr(){var t=new Er;return t.id=gr({create:function(){return t.active},before:function(e,n){n&&t.enter(n)},after:function(e,n){n&&t.exit(n)},error:function(e,n){if(e){try{var r="moduleId";n[r]=e[r]}catch(i){}t.exit(e)}}}),t}function Sr(){return wd||(Ad=Tr(),wd=!0),Ad}function Ar(t){var e=t,n=t.xhrs;e.hasAjax=n&&n.length>0,delete e.xhrs;var r={ss:1};t.type===Kc&&(r.rs=1),_e.buildImmediateAction(Es,Sc,{type:Es,items:n,spe:e},{sendOptions:{query:r}}),jt(Tl)}function wr(t){if(Pd[t.key]){var e=Pd[t.key];if(delete Pd[t.key],e.speBinded){var n=e.setSpe(t);if(n)return void jt(Tl);!e.isMeaningfulAction()&&e.isNoRemain()?Ar(t):k(function(){e.sent||Ar(t)},au)}}else Ar(t)}function Cr(t){yd&&console.warn(t||"Event key required!")}function Or(t){t=t||{},this.key=t.key,this.type=t.type||Jc,this.timeout=t.timeout||Vl.user_action_timeout,this.status=Od,this.remain=0,this.xhrs=[],this.s=A(),this.e=null,this.called=this.sent=this.stored=!1,t.debugInfo&&(this.debugInfo=t.debugInfo),this.duration=t.duration||0,t.op&&(this.op=t.op),t.desc&&(this.desc=t.desc),this.scope=new R({contexts:t.context})}function Nr(t){var e=null;e=Dl.context?_e.getRootContext(Dl.context,function(t){return t.type===Es&&t.subType!==Sc}):pr(t.s),null!=e&&(Pd[t.key]=e,e.speBinded=!0)}function kr(t){t=t||{};var e=t.key;if(!e)return new Cr;if(kd[e])return new Cr("event "+e+" is executing");kd[e]=!0;var n=Cd.createContext();Cd.enter(n);var r=new Or(t);return r._end=function(){var t=this;t.sent||t.stored||0!==t.remain||!t.called?t.stored&&this.refreshEventAndStore(n):t.finish().send(n)},r.end=function(t){t=t||{};var e=this;return e.called?void(yd&&console.warn("Event "+this.key+"has ended or failed!")):(e.called=!0,Cd.exit(n),e.status=null!=t.status?t.status:1,t.context&&wo(t.context)&&e.scope.setContext(t.context),void(t.storeEvent||e._end()))},r.finish=function(){var t=this;return t.e=A(),t.i&&clearTimeout(t.i),delete kd[t.key],t},r.fail=function(){this.end({status:Nd})},r.store=function(){this.end({storeEvent:!0}),this.refreshEventAndStore(n),this.stored=!0},r.setTag=function(t,e){this.scope&&this.scope.setTag(t,e)},r.setMetric=function(t,e,n){this.scope&&this.scope.setMetric(t,e,n)},r.type===Kc&&Nr(r),Cd.set("event",r),r}function Pr(t){if(e.TINGYUN&&e.TINGYUN.inited){var n=hf(Fc),r=bt(n);if(r&&r.start&&(t=t||{},!t.key||r.key===t.key)){var i=t.timeout;if(i||(i=Gc),r.duration=A()-r.start,r.duration>i)return void vf(Fc);var a=e.performance&&e.performance.timing;if(a&&a.navigationStart&&(a.loadEventEnd||a.loadEventStart)&&a.navigationStart-r.start>=0){var o={method:"GET",url:Vl.ref,status:200,type:Ts,subType:ws,startSpeOffset:a.navigationStart-r.start,start:a.navigationStart,__spe:1,du:(a.loadEventEnd||a.loadEventStart)-a.navigationStart};r.xhrs||(r.xhrs=[]),r.xhrs.push(o)}var s=Od;t.status&&(s=t.status===Vc?Od:0),r.status=s,vf(Fc),wr(r)}}}function Ir(t,e){e.status&&e.status===Xc?t.fail():t.end()}function Rr(t,n){if(!e.TINGYUN||!e.TINGYUN.inited)return new Cr("Agent is not inited!");t=u({},{type:zc},n?{debugInfo:{immediate:!0}}:{},t||{});var r=kr(t);return n?Ir(r,t):t.autoEnd&&k(function(){Ir(r,t)},t.endDelay||Wc),r}function Dr(t){return Pd[t]}function Lr(t,e){if(Pd[t]){var n=Pd[t];n.id!==e.id&&e.type!==ws&&(e.speBinded=!0,Pd[t]=e)}}function Hr(){return window[es]&&window[es].inited}function jr(t,e,n){if(Af.localStorage&&t&&e&&n){var r=bt(hf(cl));r||(r={}),r[t]||(r[t]={}),r[t][e]=n,mf(cl,Po(r))}}function qr(t,e){if(Af.localStorage&&t&&e){var n=bt(hf(cl));if(n&&n[t])return n[t][e]}}function Br(){return Dd||(Dd={constant:{OBSERVER_SESSION:kl,PAGEHIDE:Vo},util:{noop:S,on:Fo,support:Af},bridge:{getSid:te,getUid:Mt,getDid:qt,registerObserver:Qt,sendRequest:ht,getUrlWithParam:It,getSendOrigin:Kt,setDefaultConfig:gn,getAgentConfig:vn,getAgentStorage:qr,setAgentStorage:jr},common:{agentVersion:"3.3.10"}}),Dd}function Mr(t){try{if(!(t&&t.name&&t.setup&&t.init&&t.destory))return;var e=t.name;if(Dl.plugins[e])return;Dl.plugins[e]=t,Hr()&&(t.setup(Br()),t.init(Br()))}catch(n){}}function Ur(t){a(t,function(t){Mr(t)})}function Fr(){Hr()&&a(Dl.plugins,function(t){return t?void t.init(Br()):!0})}function Gr(){a(Dl.plugins,function(t){return t?void t.setup(Br()):!0})}function Yr(t,n){e.TINGYUN&&e.TINGYUN.inited&&(n&&wo(n)||(n={}),t&&t.beforeEach&&t.afterEach&&(Vl.routerEnable=!1,t.afterEach(function(t){var r=t.fullPath;if(r=r?e.location.origin+r:t.path){var i={key:r,type:Kc,autoEnd:!0,endDelay:iu,debugInfo:{api:lu}};u(i,n),Rr(i)}})))}function zr(t,e){if(t){var n=t.split("_"),r=n[0],i=n[1];"ty"===r&&i&&I(i,{timestamp:A(),data:e})}}function Jr(t){return qr(ul,t)}function Kr(t,e){jr(ul,t,e)}function Wr(t){return Vl.configLoad&&Af.localStorage?t&&t.config?A()-(t.lastUpdate||0)>6e4*Vl.configLoadInterval:!0:!1}function Vr(t){if(t){var e;return t.appKey?e=jd+t.appKey:t.token&&(e=Hd+t.token),e}}function Xr(t,e){if(Wr(e)&&t){var n={_r:A()};Vl.token&&(n.token=Vl.token),Vl.appKey&&(n.appKey=Vl.appKey);var r="".concat(Kt(),"/web-config?").concat(Pt(n));ht({url:r,method:dl,timeout:Vl.configLoadTimeout,needPostCallback:!0,callback:function(e){var n=bt(e);if(n){var r=n.code,i=n.data;200===r&&i&&Kr(t,{lastUpdate:A(),config:i})}}})}}function $r(){if(Object.defineProperty){var t=e[ts];t&&Object.defineProperty(e,ts,{get:function(){return qd++>0&&e.console&&console.warn("window.%s is deprecated, use window.%s instead.",ts,es),t}})}}function Qr(t){var e=t;return Bd&&(Md.setAttribute("href",e),e=Md.href),Md.setAttribute("href",e),{href:Md.href,protocol:Md.protocol?Md.protocol.replace(/:$/,""):"",host:Md.host,search:Md.search?Md.search.replace(/^\?/,""):"",hash:Md.hash?Md.hash.replace(/^#/,""):"",hostname:Md.hostname,port:Md.port,pathname:"/"===Md.pathname.charAt(0)?Md.pathname:"/"+Md.pathname}}function Zr(t){var e=!1;return Vl.corsDomains&&a(Vl.corsDomains,function(n){return t.indexOf(n)>-1?(e=!0,!1):void 0}),e}function ti(t){if(!To(t))return!1;if(Vl.apmEnableAllCorsDomains)return!0;var e=Qr(t);return e.protocol===Ud.protocol&&e.host===Ud.host||Zr(e.host)}function ei(){try{return Yo(!0).substring(0,16)}catch(t){}}function ni(t){var e=!1;try{var n=ti(t.url);if(t.sameOrigin=n,Vl.x_server_switch&&n){var r=ei(),i="c=B|"+Vl.key;if(r&&(i+=";x="+r),t.addHeader(ms,i),e=!0,t.xTingyunSent=!0,Vl.apmHeaders){var o,s=Yo(!0);a(Vl.apmHeaders,function(n){if(n){var r=t.getHeader(n);null==r&&(t.addHeader(n,s),e=!0,r=s),o||(o={}),o[n]=r}}),t.apms=o}}}catch(c){}return e}function ri(t,e){if(!t.context){var n=Dl.context;!t.shouldAddToEvent&&En(n)&&(n=null),t.context=new _e({parent:n,name:"".concat(t.url,"-").concat(t.id),type:Ts,subType:e||Gu})}}function ii(t,e){if(Vl.x_server_switch&&t.sameOrigin){var n=t.context.data,r=t.xTingyunSent?bt(e(vs)):null;if(r){if(n.hasServerHeader=!0,n.s_id=r.id,n.s_tname=r.tname,n.s_tid=r.tid,n.s_rid=r.rid,n.s_duration=r.duration,"user"in r){var i=r.user,a=i;if(null!=i&&0===i.indexOf(gs)){var o=i.substring(gs.length);try{a=Qf.decode(o)}catch(s){}}n.s_user=a,Ut(a)}"bid"in r&&(n.s_bid=Ne(r.bid)),"ber"in r&&(n.s_ber=r.ber),"isError"in r&&(n.s_isError=r.isError)}else n.hasServerHeader=!1;if(t.apms&&(n.apms=t.apms),Vl.serverTiming)try{var c=e(Cl);c&&(n.st=c)}catch(s){}}}function ai(t){var e=t.context.data;t.key&&(e.__spe=1)}function oi(t,e){Dl.context=t.context,Dl.globalAsyncStore=t,Dl.globalAjaxContext=e}function si(t){if(t.context){var e=!1;return t.context.setData({state:Us}),t.context.canEnd()&&(t.context.end(),e=!0),t.context.data&&t.context.state===Fs&&Vl.upload_timeout_ajax&&(t.context.data.brsOnly=!0,_e.buildImmediateAction(Ts,"",t.context.data,{actionOptions:{state:Fs}})),Dl.globalAsyncStore=null,Dl.globalAjaxContext=null,e}}function ci(t){if(!t||!t.context)return{};var e=t.context.data,n={method:e.method,url:e.url,start:e.start,end:e.end,du:e.du,status:e.status};return t.context.subType===Gu?u(n,{err:e.err,rec:e.rec,send:e.send,requestHeader:t.headerRecord}):u(n,{requestHeader:t.fetchOptions.headers}),n}function ui(t){if(t.shouldAddToEvent&&null==t.context.parent){var e;if(Q()&&(e=pr(t.start)),!e&&Dl.recordingPageLoadEvent&&Dl.pageLoadEvent&&(e=Dl.pageLoadEvent,Dl.recordingCpActions&&t.context.setData({crossPage:!0})),!e){var n=Cd.get("event");n&&n.type==Kc&&n.key===t.key&&(e=Dr(n.key))}if(e){t.context.parent=e,t.context.unregisterTimeout(),yn(t,Ts,!0);var r=Cd.get("event");r&&r.type==Kc&&r.key===t.key&&Lr(r.key,e)}}}function li(t){var e=Cd.get("event");if(e&&e.key){if(e.type===Kc){var n=Dr(e.key),r=_e.getRootContext(t.context,function(t){return t.type===Es&&t.subType!==Sc});if(n&&r&&n.id!=r.id)return}t.key=e.key,e.remain++}}function fi(t){var e=!0;return a(Vl.ajaxBlacklist,function(n){return n&&t.indexOf(n)>-1?(e=!1,!1):void 0}),e}function di(t,e){t[ts]=e.id,Jd[e.id]=e}function pi(t){return Jd[t[ts]]}function hi(t){try{Jd[t[ts]]=null,delete Jd[t[ts]]}catch(e){}}function mi(t){return t?t[ns]?!1:!0:!1}function vi(t){return{addHeader:function(e,n){try{t.setRequestHeader(e,n)}catch(r){}},getHeader:function(t){return this.headerRecord[t]}}}function gi(t){return function e(r,i){var a=this,o=e;if(o._&&(o._=1),!fi(i)&&a&&(a[ns]=!0),mi(a)){var s={};s.method=r,s.url=i,s.id=Fd.uniqueId++,s.jserror=!1,s.headerRecord={},s.scope=new R,s.shouldAddToEvent=_n(i),u(s,vi(a)),ri(s),li(s),s.context.setData({type:Ts,subType:Gu,id:s.id,cid:s.context.id,method:s.method,url:s.url,state:s.state,jserror:s.jserror}),yn(s,Ts),s.toJSON=function(){},di(a,s)}try{return t.apply(a,arguments)}catch(c){}return Q()?void 0:n(t,[a,arguments])}}function yi(t){return function e(r,i){var a=this,o=e;o._&&(o._=1);var s;if(mi(a)&&(s=pi(a))){var c=Ri(r,Vl.optCustomParamRules);Kl.isGather&&(s.wReqHeaderParam||(s.wReqHeaderParam={}),s.wReqHeaderParam[r]=i),s&&c&&(s.reqHeaderParam||(s.reqHeaderParam={}),s.reqHeaderParam[r]=i),s.headerRecord||(s.headerRecord={}),s.headerRecord[r]=i}try{return t.apply(a,arguments)}catch(u){}return Q()?void 0:n(t,[a,arguments])}}function _i(t){return function e(r){var i=this,a=e;a._&&(a._=1);var o;mi(i)&&(o=pi(i))&&(o.start=A(),o.reqSize=P(r),o.requestData=r,o.context.setData({start:o.start}),ui(o),Si(i,o),ni(o),Y({type:Tu,name:Nu,hookPostion:Ru,args:{target:i},scope:o.scope}));try{return t.apply(i,arguments)}catch(s){}return Q()?void 0:n(t,[i,arguments])}}function xi(t,e){a(Gd,function(n,r){var i="on"+r;t[i]?zn(t,i,function(t){return function(){return Ei(e,n,r),Ao(t)?t.apply(this,arguments):void 0}}):t[i]=function(){Ei(e,n,r)}})}function bi(t,e){a(Gd,function(n,r){Fo(t,r,function(){Ei(e,n,r),t&&t[Dc]===Yd&&Ai(t,e)})})}function Ei(t,e,n){t&&(t.errorCode=e,t.errorEvent=n)}function Ti(t,e){if(Q()){var n=t[Yd];n&&!t[Rc]&&(zn(t,Yd,e),t[Rc]=!0,t[Dc]=Yd)}var r=t[zd];!r||t[Rc]||r[Rc]||(zn(t,zd,e),t[Rc]=!0,t[Dc]=zd)}function Si(t,e){function n(n){return br(function i(){var r=i;r._&&(r._=1),Ai(t,e);var a;if(Ao(n)){var o;if(e&&4==t.readyState&&(o=A(),oi(e,t)),Vl.exposeOriginError)try{a=n.apply(this,arguments)}finally{e&&4==t.readyState&&(e.cbTime=A()-o)}else try{a=n.apply(this,arguments)}catch(s){throw e&&(e.jserror=!0),s}finally{e&&4==t.readyState&&(e.cbTime=A()-o)}}return a},r)}var r=Cd.getContext();Ti(t,n);try{Q()?bi(t,e):xi(t,e)}catch(i){}if(!t[Rc]){var a=br(function o(){var n=o;n._&&(n._=1),t[Rc]||4===t.readyState&&Ai(t,e)},r);try{Q()?Fo(t,Xo,a):(t[zd]=a,t[zd][Rc]=!0)}catch(i){return}}sf(function(){Ti(t,n)})}function Ai(t,e){if(e&&(e.end=A(),e.readyState=t.readyState,4==t.readyState)){if(e.callbackEnd)return;e.callbackEnd=!0,Q()&&delete t[Rc],oi(e),e.status=t.status,e.text=wi(t),e.resSize=P(e.text);var n=ki(e,t),r=ci(e);if(Y({type:Tu,name:Nu,hookPostion:Du,args:{target:t,actionData:r},scope:e.scope}),r.st&&(n.st=r.st),e.shouldAddToEvent&&(Dl.recentFinishedAjaxContext=e.context),lf.xhrs){var i=n;try{t.responseURL&&(i=u({},n,{url:t.responseURL}))}catch(a){}lf.xhrs.push(i)}var o=Cd.get("event");sf(function(){Ni(e,n);var r=si(e);o&&o.key==e.key&&(o.xhrs.push(n),0===--o.remain&&o._end()),r&&hi(t)})}}function wi(t){var e="";if(""==t.responseType||"text"==t.responseType)e=t.responseText;else if(t.response)e=t.response;else try{e=t.responseText}catch(n){}return e||""}function Ci(t){return t.data&&"event"===t.data.type?{text:t.data.text,path:t.data.path,src:t.data.src,value:t.data.value,href:t.data.href,title:t.data.title,nodeName:t.data.nodeName,items:t.items}:t.parent&&t.parent.data&&"event"===t.parent.data.type?{text:t.parent.data.text,path:t.parent.data.path,src:t.parent.data.src,value:t.parent.data.value,href:t.parent.data.href,title:t.parent.data.title,nodeName:t.parent.data.nodeName,items:t.parent.items}:t.parent&&t.parent.parent?Ci(t.parent):{text:"",path:"",nodeName:"",items:[]}}function Oi(t){return this.getResponseHeader(t)}function Ni(t,e){t&&e&&t.jserror&&(e.jserror=t.jserror),t.errorCode&&!e.err&&(e.err=t.errorCode),t.cbTime&&!e.cb&&(e.cb=t.cbTime),j(e,t.scope)}function ki(t,n){if(t&&t.context&&!t.composed){var i=t.status;if(Kl.isGather){var a=Ci(t.context);t.wCustom={fromJS:"agent",key:Vl.key,ajaxUrl:t.url,items:t.context.items,itemsTemp:a&&a.items,id:t.id,url:Vl.ref,text:a&&a.text,href:a&&a.href,title:a&&a.title,value:a&&a.value,src:a&&a.src,xpath:a&&a.path,nodeName:a&&a.nodeName,method:t.method,urlParams:Ct(Vl.ref),ajaxUrlParams:Ct(t.url),start:t.start,requestHeader:t.wReqHeaderParam,requestParams:t.requestData,responseHeader:n.getAllResponseHeaders()&&n.getAllResponseHeaders().split("\n"),responseBody:n.response,children:[]},e.top&&e.top.postMessage&&e.top.postMessage(Po(t.wCustom),"*"),delete t.wCustom,delete t.wReqHeaderParam}u(t.context.data,{end:t.end,du:i>0?t.end-t.start:0,cb:t.cbTime||0,status:i,err:t.errorCode?t.errorCode:0,rec:t.resSize,send:t.reqSize});var o=t.context.data,s={},c=we(t.url),l=c.optCustomParams;s[cs]=t.reqHeaderParam||{},s[us]=Pe(Li(t.requestData),Vl.optCustomParamRules[us],!0),s[ls]=Di(n,Vl.optCustomParamRules,ls);var f=bt(t.text);f&&(s[fs]=Pe(f,Vl.optCustomParamRules[fs],!0)),o.opt_custom_param=ke(Pi(s,l)),ii(t,r(Oi,n)),ai(t);var d={};if(Vl.collectAllParam[vu]&&c.operaAllParam&&(d[vu]=c.operaAllParam),Vl.collectAllParam[gu]&&t.headerRecord&&(d[gu]=t.headerRecord),Vl.collectAllParam[yu]&&t.requestData&&(d[yu]=t.requestData),Vl.collectAllParam[_u])try{d[_u]=Hi(n.getAllResponseHeaders())}catch(p){}return Vl.collectAllParam[xu]&&t.text&&(d[xu]=t.text),me(d)||(o.opera_all_param=d),t.composed=!0,o}}function Pi(t,e){return a(e,function(e,n){t[n]=u({},t[n]||{},e||{})}),t}function Ii(t,e){if(t&&t.getResponseHeader)try{return t.getResponseHeader(e)}catch(n){}}function Ri(t,e){var n;return a(e[cs],function(e){return t===e?(n=!0,!1):void 0}),n}function Di(t,e,n){var r={};return a(e[n||is],function(e){var n=Ii(t,e);null!=n&&Et(r,e,n)}),r}function Li(t){var e=bt(t);return e||(e=Ot(t)),e}function Hi(t){if(!t)return{};var e=t.split(/\r?\n/),n={};return a(e,function(t){if(!t)return!0;var e=t.indexOf(":");if(e>-1){var r=Go(t.substring(0,e)),i=Go(t.substring(e+1));r&&(n[r]=i)}}),n}function ji(){var t=Yl&&Yl.prototype;t?(zn(t,"open",gi),Vl.hook_xhr_setrequestheader&&zn(t,"setRequestHeader",yi),zn(t,"send",_i)):Yl&&(e.XMLHttpRequest=function(){var t=new Yl;return zn(t,"open",gi),Vl.hook_xhr_setrequestheader&&zn(t,"setRequestHeader",yi),zn(t,"send",_i),t})}function qi(t){t&&!t.composed&&(u(t.contextData,{end:t.end||A()}),t.composed=!0)}function Bi(){zn(window,"setTimeout",Ki),zn(window,"clearTimeout",Wi)}function Mi(t){t.context||(t.context=new _e({name:"".concat(t.name,"-").concat(t.id),type:Ss,subType:t.name}))}function Ui(t){Dl.context=t.context,Dl.globalAsyncStore=t}function Fi(t){t.context&&(t.context.setData({state:Us}),t.context.canEnd()&&t.context.end(),Dl.globalAsyncStore=null)}function Gi(t){var e=0,n=t.context;if(n){var r=n.remain[Ts],i=n.remain[As];e+=r.current+r.children+i.current+i.children}return e>0}function Yi(t){for(var e=0;null!=t&&e<Vl.set_timeout_max_depth;)e+=t.type===Ss?1:0,t=t.parent;return e<Vl.set_timeout_max_depth}function zi(t){return function(){return xr(t).apply(this,arguments)}}function Ji(t,e,n,r){var i=null,a=null,o=Dl.context,s=_e.getRootContext(Dl.context,function(t){return t.type===ws});return s&&(o=null),wo(r)&&r[Ic]||null==o?a=zi(t):Yi(o)?(i={id:Kd++,name:e,start:A(),delay:n,parentContext:o},Mi(i),i.contextData={type:Ss,id:i.id,cid:i.context.id,name:i.name,start:i.start,delay:i.delay},i.context&&i.context.setData(i.contextData),i.parentContext&&(i.pcid=i.parentContext.id,i.parentContext.updateRemain(1,Ss),i.parentContext.items.push(i.contextData)),a=br(function(){var e;try{Ui(i)}catch(n){}try{t&&(e=t.apply(this,arguments))}finally{try{Gi(i)?(i.end=A(),qi(i),Fi(i)):i&&i.context.removeFromParent()}catch(n){}}return e})):a=zi(t),{store:i,cb:a}}function Ki(t,e){return function(n){var r=Io.call(arguments,0),i=null;if(!arguments[2]&&Ao(n)){var a=Ji(n,e,r[1],r[2]);a.cb&&(r[0]=a.cb),i=a.store}var o=t.apply(this,r);return i&&(Wd[o]=i),o}}function Wi(t){return function(e){try{var n=Wd[e];n&&n.context&&(n.context.removeFromParent(),Wd[e]=null)}catch(r){}return t.apply(this,arguments)}}function Vi(t,e){for(var n=A(),r=e.length-1;r>=0;r--){var i=e[r];i.type===Es||i.end||(i.end=n),e[r-1]&&(e[r-1].items=[i]);var a=void 0;a=i.start&&i.end&&i.end-i.start>Vl.eventTimeout?Fs:i.type===Es?e[r+1]&&e[r+1].state||Us:Us,i.state=a}t.data=e[0],t.end=n}function Xi(t){var e=Dl.cpParent;if(e){Dl.recordingCpActions=!1;var n=e.action,r=e.data,i=e.commonActionInfo,a=e.requestInfo;if(n&&r&&0!==r.length){var o=t.context;r[r.length-1].items=[o.eventData.data],Vi(n,r),n.data&&(n.data.range=hu);var s=u(i||{},j({pageParam:zt(),cpOptCustomParam:Dl.opt_custom_param},Dl.scope,"cpScope"));o.eventData=n,o.setSendOptions({commonActionInfoMessage:s,requestInfo:a,crossPage:!0})}}}function $i(t){if(t){var e=t.action,n=t.data;e&&n&&0!==n.length&&(Vi(e,n),pe(e))}}function Qi(t){mf(mc,Po(t))}function Zi(t){var e=Vd++,n=t.url||"",r=A(),i=new _e({parent:Dl.context,name:"".concat(n,"-").concat(e),type:Cs,subType:t.subType||vc}),a={type:Cs,subType:i.subType,id:e,cid:i.id,url:n,start:r};i&&i.setData(a);var o;return i.parent&&(i.parent.type===Ts?ki(Dl.globalAsyncStore,Dl.globalAjaxContext):i.parent.type===Ss&&qi(Dl.globalAsyncStore),o=i.collectCrossPageData(),Xd=o,t.delayStorage||Qi(o),i.clear(),i=null),{storageData:o,context:i}}function ta(t){return function(){var e=arguments[0],r=Zi({url:e,delayStorage:!0}),i=r.storageData,a=r.context;try{var o=t.apply(this,arguments);if(o){if(!i&&a){var s=pr(a.data.start);s&&(a.parent=s,i=a.collectCrossPageData(),Xd=i,a.clear(),a=null)}Qi(i)}return o}catch(c){}return Q()?void 0:n(t,[this,arguments])}}function ea(){zn(e,"open",ta)}function na(){function t(t){return{valid:Nc===t.target.nodeName&&!t.defaultPrevented&&t.target.href,url:t.target.href,subType:gc}}function e(t){return{valid:kc===t.target.nodeName&&!t.defaultPrevented&&t.target.action,url:t.target.action,subType:yc}}a([Ec,Tc],function(n){Gl.addEventListener(n,function(r){if(r){var i=n===Ec?t(r):e(r);if(i.valid){var a=r.timeStamp?hr(r):pr(dr(r));a&&(Dl.context=a,Zi({subType:i.subType,url:i.url}),Dl.context=null)}}},_defineProperty({},xc,!0))})}function ra(){$i(Xd),Xd=null}function ia(){Fo(Gl,mu,function(){"hidden"===Gl.visibilityState&&ra()}),Fo(e,Vo,function(){ra()})}function aa(){ea(),na(),ia()}function oa(t){t.context.setData(u({pvid:t.pvid,end:t.end,url:t.url},t.iframePageMetric||{}))}function sa(t){if(!t.context){var e=Dl.context;!t.shouldAddToEvent&&En(e)&&(e=null),t.context=new _e({parent:e,name:"".concat(t.src,"-").concat(t.id),type:As})}}function ca(t){if(!t)return!0;var e=!1,n=t.substring(0,100);try{a(tp,function(t){return n.indexOf(t)>-1?(e=!0,!1):void 0})}catch(r){e=!0}return e}function ua(t,e,n){function r(){if(i.end=A(),i.sameOrigin&&this&&this.contentDocument&&this.contentWindow){i.sameOrigin=!0,i.url=this.contentDocument.URL;var e,n=this.contentWindow[es],a=!1;n&&(i.pvid=n.pvid||"",Ao(n.checkHookSupported)&&n.checkHookSupported(Eu,Ou)&&(a=!0,n.addLifeCycleHook(Ou,function(t){var n=t.iframeMetric;e=n,la(i,e)}))),a||(e=$e(this.contentWindow),la(i,e))}else i.sameOrigin=!1;oa(i),fa(i),t.removeEventListener("load",r)}if(!ca(e)&&t){n||(n=t.src?Zd:Qd);var i={id:$d++,src:e,loadType:n,start:A(),sameOrigin:ti(e),shouldAddToEvent:_n(e)};sa(i),i.context&&i.context.setData({type:As,loadType:i.loadType,id:i.id,cid:i.context.id,src:i.src,start:i.start,sameOrigin:i.sameOrigin}),yn(i,As);var a;null==i.context.parent&&i.shouldAddToEvent&&Q()&&(i.context.parent=pr(i.start),a=i.context.parent),null==i.context.parent&&i.shouldAddToEvent&&Dl.recordingPageLoadEvent&&Dl.pageLoadEvent&&(i.context.parent=Dl.pageLoadEvent,a=i.context.parent,Dl.recordingCpActions&&(i.context.crossPage=!0)),a&&(yn(i,As,!0),i.context.unregisterTimeout()),t.addEventListener("load",r)}}function la(t,e){t.iframePageMetric=e,oa(t),fa(t)}function fa(t){t.context&&(t.context.setData({state:Us}),t.context.canEnd()&&t.context.end())}function da(){function t(t){return function(e){return"IFRAME"===e.nodeName&&e.src&&ua(e,e.src,Qd),t.apply(this,arguments)}}zn(Node.prototype,"appendChild",t),zn(Node.prototype,"insertBefore",t)}function pa(){function t(){if(Gl&&Gl.body&&Gl.body.contains&&Gl.body.contains(this)){var t=arguments[0],e=this;ua(e,t)}return r.apply(this,arguments)}if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var e=Object.getOwnPropertyDescriptor(HTMLIFrameElement.prototype,"src"),n=e.get,r=e.set;Object.defineProperty(HTMLIFrameElement.prototype,"src",{get:function(){return n.apply(this,arguments)},set:t,enumerable:!0,configurable:!0})}}function ha(){da(),pa()}function ma(){Vl.hook_auto_event&&mr(),Vl.hook_timer&&Bi(),Vl.hook_iframe&&ha(),Vl.hook_cross_page&&aa()}function va(t){var e=!0,n=!0;t.fetchOptions.headers||(e=!1,t.fetchOptions.headers={});var r=t.fetchOptions.headers;Oo(r)?u(t,ep.headers):wo(r)?u(t,ep.literal):(n=!1,u(t,ep.notSupport)),t.hasOriginalHeaders=e,t.supportAddHeaders=n}function ga(t){return this.headers?this.headers.get(t):void 0}function ya(t,e){if(t&&t.context){t.context.setData({end:t.end,du:t.status>0?t.end-t.start:0,status:t.status});var n=t.context.data;e?n.err=0:n.err=Gd.error;var i={},o=we(t.url);o.optCustomParams[ss]&&(i[ss]=o.optCustomParams[ss]),i[cs]=_a(t),e&&(i[ls]=xa(e)),n.opt_custom_param=ke(i),ii(t,r(ga,e||{})),ai(t);var s={};if(Vl.collectAllParam[vu]&&o.operaAllParam&&(s[vu]=o.operaAllParam),Vl.collectAllParam[gu]&&t.fetchOptions.headers&&(s[gu]=t.fetchOptions.headers),Vl.collectAllParam[_u]&&e&&e.headers&&Ao(e.headers.entries)){var c={};a(e.headers,function(t,e){c[e]=t}),s[_u]=c}return me(s)||(n.opera_all_param=s),n}}function _a(t){var e={};return a(Vl.optCustomParamRules[cs],function(n){var r=t.getHeader(n);null!=r&&(e[n]=r)}),e}function xa(t){var e={};return a(Vl.optCustomParamRules[ls],function(n){var r=t.headers.get(n);null!=r&&(e[n]=r)}),e}function ba(t){if(!No(t)&&!wo(t))return null;var e={};return t.url&&(e.url=t.url),t.method&&(e.method=t.method),t.headers&&(e.headers=t.headers),e}function Ea(t){var e={};return To(t)?e.url=t:u(e,ba(t)),e}function Ta(t,e){t&&e&&Aa(t,null)}function Sa(t){return function e(){var n=e;n._&&(n._=1);var r=this,i=Io.call(arguments,0);return new Promise(function(e,n){var a={};if(i&&(a=Ea(i[0]),i[1])){var o=i[1];u(a,Ea(o))}var s,c=fi(a.url);if(c){if(s={id:Fd.uniqueId++,method:a.method||dl,url:a.url,start:A(),fetchOptions:a,shouldAddToEvent:_n(a.url),scope:new R},va(s),s.supportAddHeaders){var l=ni(s);if(!s.hasOriginalHeaders&&l)try{i[1]||(i[1]={}),i[1].headers=s.fetchOptions.headers}catch(f){l=!1}s.headerAdded=l}ri(s,Yu),li(s),s.context.setData({type:Ts,subType:Yu,id:s.id,cid:s.context.id,method:s.method,url:s.url,start:s.start}),yn(s,Ts),ui(s),Y({type:Tu,name:Nu,hookPostion:Ru,args:{},scope:s.scope})}var d;try{d=t.apply(r,i)}catch(f){return Ta(s,c),void n(f)}d.then(br(function p(t){var n=p;n._&&(n._=1),t&&c&&s&&Aa(s,t),e(t)}),br(function(t){Ta(s,c),n(t)}))})}}function Aa(t,e){t.end=A(),t.status=e?e.status:0;var n=ya(t,e),r=ci(t);Y({type:Tu,name:Nu,hookPostion:Du,args:{target:e||{},actionData:r},scope:t.scope}),r.st&&(n.st=r.st),j(n,t.scope),si(t);var i=Cd.get("event");i&&i.key==t.key&&(i.xhrs.push(n),0===--i.remain&&i._end()),lf.xhrs&&lf.xhrs.push(n)}function wa(){e.fetch&&e.Promise&&Q()&&zn(e,"fetch",Sa)}function Ca(t){var e={};return a(Vl.optCustomParamRules[cs],function(n){var r=t[n];null!=r&&(e[n]=r)}),e}function Oa(t){var e={};return t&&So(t)&&t.length>0&&a(t,function(t){var n=t;To(t)&&(n=bt(t)),u(e,Pe(n,Vl.optCustomParamRules[us],!0))}),e}function Na(t,e,n){if(t&&t.context&&!t.composed){t.composed=!0;var r=bt(e),i={};i[cs]=Ca(n.headers||{}),i[us]=Oa(n.requestData),t.context.setData({end:t.end,du:t.end-t.start,cb:t.cbTime,status:200,err:r&&null!=r.error?r.error:0,opt_custom_param:ke(i)})}}function ka(t){return t.context.data}function Pa(t,e,n){var r=e;return function(e){t.end=A();var i,a=A();try{r&&(i=r.apply(this,arguments))}finally{var o=A();t.cbTime=o-a}Na(t,e,n),Y({type:Tu,name:Nu,hookPostion:Du,args:{target:this,actionData:ka(t)},scope:t.scope}),j(t.context.data,t.scope);var s=Cd.get("event");return s&&s.key==t.key&&(s.xhrs.push(t.context.data),0===--s.remain&&s._end()),si(t),i}}function Ia(t){return function(){var e=arguments[0],n=arguments[1];if("rpc"===e&&n&&n.operationType){var r=arguments[2],i=Vl.mpaas_rpc_api+n.operationType,a={id:Fd.uniqueId++,url:i,method:"",start:A(),shouldAddToEvent:_n(i),scope:new R};ri(a,zu),li(a),a.context.setData({type:Ts,subType:zu,id:a.id,cid:a.context.id,method:a.method,url:a.url,start:a.start}),yn(a,Ts),ui(a),Y({type:Tu,name:Nu,hookPostion:Ru,args:{},scope:a.scope}),arguments[2]=Pa(a,r,n)}try{return t.apply(self,arguments)}catch(o){}}}function Ra(){Vl.mpaas_rpc&&window.AlipayJSBridge&&Ao(window.AlipayJSBridge.call)&&zn(window.AlipayJSBridge,"call",Ia)}function Da(t,e){for(var n=0,r=0,i=-1,a=0;n<t.length;)if(r<e.length&&(t[n]===e[r]||"?"===e[r]))n++,r++;else if(r<e.length&&"*"==e[r])i=r,a=n,r++;else{if(-1==i)return!1;r=i+1,a++,n=a}for(;r<e.length&&"*"==e[r];)r++;return r==e.length}function La(t,e){return t&&e?e.indexOf("*")<0&&e.indexOf("?")<0?t===e:Da(t,e):!1}function Ha(t){var e=t||new Date,n=e.getFullYear()+"-",r=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",i=e.getDate()+" ";return n+r+i}function ja(n,r){if(!r)try{r=e.performance.timing.navigationStart}catch(i){}return r||(r=t),Math.round((r||0)+(n||0))}function qa(t,e){if(t[e]){for(var n=t[e].shift();n&&n.sent;)n=t[e].shift();return n&&!n.sent&&n.value?n:void 0}}function Ba(t,e,n){if(n){t[e]||(t[e]=[]);var r={sent:!1,value:n};return t[e].push(r),r}}function Ma(t){if(!t)return!1;if(t=Ua(t),!t)return!1;var e=!1;return a(Vl.monitorResources,function(n){return La(t,n)?(e=!0,!1):void 0}),e}function Ua(t){var e=t.indexOf("://");return 0>e?t:t=t.substring(e+3)}function Fa(t){if(!t)return{valid:!1};var e=t.initiatorType,n=t.name,r=d(np,e)>-1,i=Ma(n);return{url:n,valid:r&&i}}function Ga(t){return Ma(t)}function Ya(t){var e=t.url,n=t.error,r=t.res;if(e){var i,a,o,s,c,u;r&&!n?(i=ja(r.startTime),o=Math.round(r.duration),a=i+o,s=200,c=0,u=r.transferSize||0):(i=a=A(),o=0,s=0,c=Gd.error,u=0);var l={type:Ts,subType:Ju,method:dl,url:e,start:i,end:a,du:o,status:s,err:c,rec:u};_e.buildImmediateAction(Ts,Ju,l)}}function za(){new e.PerformanceObserver(function(t){try{a(t.getEntries(),function(t){var e=Fa(t),n=e.url,r=e.valid;if(r){var i=qa(ip,n);if(i)Ya({url:n,res:t,error:i.value}),i.sent=!0;else{var a=Ba(rp,n,t);k(function(){a.sent||(Ya({url:n,res:t,error:!1}),a.sent=!0)})}}})}catch(e){}}).observe({type:"resource",buffered:!0})}function Ja(){Fo(Gl,"error",function(t){if(t&&t.target){var e=t.target.src||t.target.href;if(e&&(lf.resErrs&&lf.resErrs.push({url:e,error:!0}),ap))try{var n=Ga(e);if(!n)return;var r=qa(rp,e);if(r)Ya({url:e,res:r.value,error:!0}),r.sent=!0;else{var i=Ba(ip,e,!0);k(function(){i.sent||(Ya({url:e,error:!0}),i.sent=!0)})}}catch(a){}}},!0)}function Ka(){if(Ja(),0!==Vl.monitorResources.length&&e.PerformanceObserver&&e.PerformanceObserver.supportedEntryTypes&&!(d(e.PerformanceObserver.supportedEntryTypes,"resource")<0)){ap=!0;try{za()}catch(t){}}}function Wa(){ji(),wa(),Ra(),Q()&&Ka()}function Va(){if(Q()){var t=0;try{t=window.performance.timing.loadEventEnd}catch(e){}return t>0}return Gl.readyState===$o}function Xa(t,e){if($a()){var n={rm:{},em:[],cpm:{}};e&&(n.rm.res=e.res||[]),t&&(n.cpm=t,n.cpm.ul=Vl.ref),nbsJsBridge.logJsResult(Po(n))}}function $a(){return"undefined"!=typeof nbsJsBridge&&nbsJsBridge.logJsResult}function Qa(e,n,r){var i={tr:!1,tt:o(Gl.title),charset:Gl.characterSet
};Pl.resources&&u(i,Pl.resources),Ie(function(){Df.resource=r.resource.statistic,i.debug=Df}),Re();var s=lf.errs;a(s,function(e,r){var i=e.toObject();i.o=i.o-n&&n.navigationStart||t,s[r]=i}),i.err=s;var c,l="getEntriesByType";return e[l]?c=e[l]("resource"):_t(f(op,[l])),c&&(i.tr=!0,i.res=[],a(c,function(t){function e(e){var n=t[e];return n>0?n:0}var n=t.initiatorType,r=t.name,o={o:e("startTime"),rt:n,n:r,f:e(Gs),ds:e(ec),de:e(nc),cs:e(ac),ce:e(oc),sl:e(sc),qs:e(Ys),rs:e(zs),re:e(Js),ts:t[uc]||0,es:t[lc]||0,dbs:t[fc]||0};if(Ol===n||Nl===n){var s=n===Ol?Gu:Yu,c=Za(r,lf.xhrs,s);c?(a(c,function(t,e){0==e.indexOf("s_")&&(o[e]=t)}),c.st&&(o.st=c.st),c.apms&&(o.apms=c.apms),o.status=c.status,o.cb=c.cb,o.err=c.err,o.error=c.status>=400||c.err>0?up.TRUE:up.FALSE):o.error=up.UNKNOWN}else{var u=Za(r,lf.resErrs);o.error=u?up.TRUE:up.FALSE;var l=200;u?l=0:300===t[uc]&&(l=304),o.status=l,o.err=u?Gd.error:0}o.cors=eo(t),o.cached=no(t,o.cors),o.compressed=ro(t,o.cors),i.res.push(o)})),i}function Za(t,e,n){if(t){var r,i;return a(e,function(e,a){return e&&t.indexOf(e.url)>-1&&(n?e.subType===n:!0)?(r=e,i=a,!1):void 0}),r&&e.splice(i,1),r}}function to(t){if(t){var e=t.fetchStart;if(e)return e-t.navigationStart}}function eo(t){var e=!0;a(cp,function(n){return null!=t[n]&&0!==t[n]?(e=!1,!1):void 0});var n=!0;return dc in t&&(n=""===t[dc]),e&&n?up.TRUE:up.FALSE}function no(t,e){return e===up.TRUE?up.UNKNOWN:null==t[uc]?up.UNKNOWN:t[uc]<=300?up.TRUE:up.FALSE}function ro(t,e){return e===up.TRUE?up.UNKNOWN:null==t[lc]||null==t[fc]?up.UNKNOWN:t[lc]<t[fc]?up.TRUE:up.FALSE}function io(){var n={},r=0,i=e.performance;i&&i.getEntriesByType&&a(i.getEntriesByType("mark")||[],function(t){if(t&&t.name&&t.startTime&&0===t.name.indexOf(_s)){var e=t.name.substring(_s.length);e&&(n[e]=Math.round(t.startTime),r+=1)}});var o=i&&i.timing?i.timing.navigationStart:t,s=e[ys]&&e[ys].data,c=u({},s||{},Rl||{});return c&&i&&i.timing&&a(c,function(t,e){t&&wo(t)&&t.timestamp&&(n[e]=t.timestamp-o,r+=1)}),r>0?n:null}function ao(t,e,n){var r=u({},t||{},{type:ws,subType:n||ks});return Dl.recordingCpActions&&(r.crossPage=!0),e&&(r.body=e),r}function oo(t){Dl.recordingPageLoadEvent=!1,Dl.pageLoadEvent&&(t&&(Dl.pageLoadEvent._ctx.pageClose=!0),Dl.pageLoadEvent.endLock=!1,Dl.pageLoadEvent.end())}function so(){if(Dl.recordingPageLoadEvent=!0,Dl.pageLoadEvent=new _e({type:ws,subType:ks,endLock:!0,callback:{beforeSend:function(t){Y({type:Su,name:Iu,args:{context:t}})},afterSend:function(t){Dl.pageLoadEventEnd=!0,lf.clear(),Ze(),Y({type:Eu,name:Ou,args:{actionData:t}})}}}),F(Iu,fp),Q()){var t=bt(hf(mc));t&&t.fromUrl&&Gl.referrer&&t.fromUrl.indexOf(Gl.referrer)>-1&&(Dl.recordingCpActions=!0,Dl.cpParent=t,F(Iu,Xi)),vf(mc)}return Va()&&!Dl.pfSent&&oo(),rd.on(Jo,function(){var t=0;if(Vl.pfDelay&&wo(Vl.pfDelay)){var e=io();a(Vl.pfDelay,function(n,r){(!e||null==e[r])&&Co(n)&&n>t&&(t=n)})}Vl.spaMetricEnable&&Dl.pageLoadEvent&&!Dl.pageLoadEvent.hasChildType(Ts)&&Vl.pageLoadDelay>t&&(t=Vl.pageLoadDelay),k(function(){oo()},t)}).on(Z(),dp)}function co(t){if(A()-mp>Vl.rageInterval&&(hp=0),hp++,mp=A(),hp===Vl.rageCount)try{Gn({name:pp,context:{path:ir(t.target||t.srcElement)}})}catch(e){}}function uo(){Vl.monitorRage&&Fo(Gl,Ec,co)}function lo(t,e){t&&Vl.routerEnable&&Rr({key:t,autoEnd:!0,endDelay:Vl.router_event_delay,type:Kc,debugInfo:{api:e}})}function fo(){a(vp,function(t){zn(e.history,t,function(n){return function(r,i,a){var o;o=n.apply(this,arguments);try{lo(e.location.href,t)}catch(s){}return o}})}),Fo(e,su,function(){lo(e.location.href,su)})}function po(){Fo(e,ou,function(){lo(e.location.href,ou)})}function ho(){var t=e.history;t?fo():po()}function mo(){Vl.routerEnable&&ho()}function vo(){if(pt(Vl.req_capacity),D(),Q())try{Fo(e,"message",_o)}catch(t){}On(lf),Q()&&ma(),so(),Wa(),Un(),mo(),uo(),lf._end=A(),Ie(function(){Df._end=lf._end}),$r()}function go(t,n){return u({},e[ys].config||{},t||{},n||{})}function yo(t){var n={};if(Ao(t)){var r={};t(r),n=r}else n={server:t};e[ys]||(e[ys]={hook:{}});var i=Vr(n.server),a=Jr(i)||{},o=go(n.server,a.config),s=Hr();if(!s||o.reinit){var c=!s;c&&(Ur(o.plugins),Gr()),hn(o),mn(),(Vl.key||Vl.appKey)&&c&&(vo(),e[es].inited=!0),c&&Fr(),Y({type:Eu,name:Cu,args:{firstInit:!s}}),Xr(i,a)}}function _o(t){try{var n;if(!t||!t.data||0!==t.data.indexOf("_TINGYUN"))return;if(n=t.data.replace("_TINGYUN",""),bt(n)){var r=bt(n);if("gather"===r.type&&"APM"===r.fromJS&&!e[$c]){Kl.isGather=!0;var i=t.origin,a=Gl.getElementsByTagName("head")[0],o=Gl.createElement("script");o.type="text/javascript",o.src=i+"/assets/lib/gather/path-gather.min.js?version="+Ha(new Date),a.appendChild(o)}}}catch(s){}}function xo(t){if(t&&(Ao(t)||wo(t))){var e=Y({type:Eu,name:wu,args:{firstInit:!Hr()}});e.exist&&fe(e.results,function(t){return t===!1})||yo(t)}}function bo(){return window[es]&&3===window[es].mainVersion?window[es]:(Ld.init=xo,Ld)}var Eo=window.encodeURIComponent,To=s("String"),So=s("Array"),Ao=s("Function"),wo=s("Object"),Co=s("Number"),Oo=s("Headers"),No=s("Request");c.prototype={on:function(t,e){var n=this;return To(t)?(n.events[t]||(n.events[t]=[])).push(e):So(t)&&a(t,function(t){n.on(t,e)}),n},off:function(t,e){var n=arguments.length,r=this;if(0===n)return r.events={},r;var i=r.events[t];if(!i)return r;if(1===n)return r.events[t]=null,r;for(var a,o=i.length;o--;)if(a=i[o],a===e){i.splice(o,1);break}return r},emit:function(t){var e=[].slice.call(arguments,1),n=this.events[t];return n&&a(n,function(t){return t.apply(this,e)}),this},unshift:function(t,e){var n=this;return(n.events[t]||(n.events[t]=[])).unshift(e),n}};var ko,Po,Io=[].slice,Ro=function(){return!document.addEventListener},Do='"',Lo=/([\"\\])/g,Ho=/\n/g,jo="ARRAY",qo="OBJECT_KEY",Bo="OBJECT_VALUE",Mo="__TY_MARK_OBJECT_VALUE_UNDEFINED__",Uo=window.JSON;x();var Fo;Fo=window.addEventListener?w:C;var Go=String.prototype.trim?function(t){return null==t?"":t.trim()}:function(t){return null==t?"":t.toString().replace(/^\s+/,"").replace(/\s+$/,"")},Yo=function(){function t(t){return 0>t?NaN:30>=t?0|Math.random()*(1<<t):53>=t?(0|Math.random()*(1<<30))+(0|Math.random()*(1<<t-30))*(1<<30):NaN}function e(t,e){for(var n=t.toString(16),r=e-n.length,i="0";r>0;r>>>=1,i+=i)1&r&&(n=i+n);return n}return function(n){var r="-";return n&&(r=""),e(t(32),8)+r+e(t(16),4)+r+e(16384|t(12),4)+r+e(32768|t(14),4)+r+e(t(48),12)}}(),zo="error",Jo="load",Ko="unload",Wo="beforeunload",Vo="pagehide",Xo="readystatechange",$o="complete",Qo="DOMContentLoaded",Zo="on",ts="_ty_rum",es="TINGYUN",ns="__ign",rs="__ty_asyncWrap__",is="3",as="1",os="2",ss="1",cs="2",us="3",ls="4",fs="5",ds="reqBody",ps="TINGYUN_COOKIE_VALUE",hs="TINGYUN_DATA",ms="X-Tingyun",vs="X-Tingyun-Data",gs="TY_BASE64",ys="__TINGYUN",_s="ty_",xs=6e4,bs="common",Es="event",Ts="ajax",Ss="timer",As="iframe",ws="pf",Cs="crossPage",Os="jsError",Ns="resource",ks="main",Ps="quit",Is="e",Rs="a",Ds="t",Ls="i",Hs="p",js="c",qs="j",Bs="finish",Ms="pending",Us="finish",Fs="timeout",Gs="fetchStart",Ys="requestStart",zs="responseStart",Js="responseEnd",Ks="domContentLoadedEventStart",Ws="domContentLoadedEventEnd",Vs="domInteractive",Xs="domComplete",$s="loadEventStart",Qs="loadEventEnd",Zs="unloadEventStart",tc="unloadEventEnd",ec="domainLookupStart",nc="domainLookupEnd",rc="redirectStart",ic="redirectEnd",ac="connectStart",oc="connectEnd",sc="secureConnectionStart",cc="workerStart",uc="transferSize",lc="encodedBodySize",fc="decodedBodySize",dc="nextHopProtocol",pc=5,hc=5,mc="__ty_crs_page_events",vc="window_open",gc="a_link",yc="form_submit",_c="__ty_event_patch_tag",xc="__ty_event_patch_disable",bc="__ty_event_patch_id",Ec="click",Tc="submit",Sc="spe",Ac="addEventListener",wc="onProperty",Cc="inline",Oc="IMG",Nc="A",kc="FORM",Pc=3,Ic="__ty_ignore",Rc="__ty_xhr_hooked",Dc="__ty_xhr_hooked_type",Lc=200,Hc="TY_USER_ID",jc="TY_SESSION_N_ID",qc="TY_DEVICE_N_ID",Bc=21e5,Mc=288e5,Uc="|",Fc="__TY_SPE_STORE",Gc=6e4,Yc=6e5,zc="auto",Jc="defined",Kc="route",Wc=500,Vc="success",Xc="fail",$c="TY_path_gather",Qc="EagleEye-TraceID",Zc="__TY_ELEMENT_CB",tu="__TY_CB_COUNTER",eu="__TY_IMAGE_LOAD_HOOK",nu=60,ru="__tagFirstPaintTime",iu=500,au=1e4,ou="hashchange",su="popstate",cu="pushState",uu="replaceState",lu="vueRouter",fu="normal",du="script",pu="current",hu="crossPage",mu="visibilitychange",vu="URL",gu="QH",yu="QB",_u="RH",xu="RB",bu=200,Eu="lifecycle",Tu="action",Su="contextSend",Au="send",wu="preInit",Cu="init",Ou="pageLoad",Nu="ajax",ku="error",Pu="userAction",Iu="pageLoad",Ru="ajax_send",Du="ajax_finish",Lu="error_trigger",Hu="paint",ju="largest-contentful-paint",qu="first-contentful-paint",Bu=500,Mu=1e4,Uu=100,Fu="__ty_resource_load_bind_id",Gu="xhr",Yu="fetch",zu="mPaaS_rpc",Ju="resource",Ku="auto",Wu="session",Vu="start",Xu="data",$u="end",Qu="immediateEvent",Zu="event",tl=1,el=2,nl=3,rl="xhr",il="xdr",al="beacon",ol="messageHandler",sl="jsBridge",cl="TINGYUN_STORAGE",ul="AGENT_CONFIG",ll=10,fl=3e4,dl="GET",pl="POST",hl="http://mgw/",ml=100,vl=2e3,gl=4e3,yl=4e3,_l=7e3,xl=3,bl=300,El="newSession",Tl="userAction",Sl="userEvent",Al="setUser",wl=10,Cl="Server-Timing",Ol="xmlhttprequest",Nl="fetch",kl="session",Pl={},Il={imageResources:[]},Rl={},Dl={context:null,uniqueId:0,actions:[],opt_custom_param:{},unAssignedEvents:[],cpActions:[],recordingCpActions:!1,cpParent:null,cpRemain:{ajax:0,iframe:0},tryEndCpActionsFailed:!1,globalAsyncStore:null,globalAjaxContext:null,pfSent:!1,ajaxUniqueId:0,scope:null,performanceObserver:{},enableLCPObserver:!0,recordingPageLoadEvent:!1,recentFinishedAjaxContext:null,iframeMetric:{},pageLoadEventEnd:!1,nbsJsBridgeData:{},did:null,uid:null,plugins:{}},Ll="extra";R.prototype.setContext=function(t,e){var n=this;t&&wo(t)?a(t,function(t,e){n._mergeContext(e,t)}):this._mergeContext(t,e)},R.prototype.setBreadcrumbs=function(t){t&&(this._breadcrumbs=t)},R.prototype.setTag=function(t,e){null!=t&&null!=e&&(this._tags||(this._tags={}),this._tags[t]=e)},R.prototype.setMetric=function(t,e,n){if(null!=t&&null!=e){this._metrics||(this._metrics={});var r={data:e};n&&(r.unit=n),this._metrics[t]=r}},R.prototype.setExtraContext=function(t){this.setContext(Ll,t)},R.prototype.getContext=function(t){return null==t?this._contexts:null==this._contexts?null:this._contexts[t]},R.prototype.getData=function(){if(this._isEmptyScope())return null;var t={};return this._contexts&&(t.contexts=this._contexts),this._breadcrumbs&&(t.breadcrumbs=this._breadcrumbs),this._tags&&(t.tags=this._tags),this._metrics&&(t.metrics=this._metrics),t},R.prototype._isEmptyScope=function(){return null==this._contexts&&null==this._breadcrumbs&&null==this._tags&&null==this._metrics},R.prototype._mergeContext=function(t,e){null!=t&&null!=e&&(this._contexts||(this._contexts={}),wo(this._contexts[t])&&wo(e)?this._contexts[t]=u(this._contexts[t]||{},e):this._contexts[t]=e)},R.prototype.toJSON=function(){};var Hl,jl={lifecycle:[wu,Cu,Ou],action:[Nu,ku,Pu],contextSend:[Iu],send:[]},ql="default",Bl="default",Ml={},Ul=Object.create?Object.create:J,Fl=e.Error,Gl=e.document,Yl=e.XMLHttpRequest,zl=e.location,Jl=e.navigator,Kl=(e.HTMLElement,{isGather:!1}),Wl={},Vl={},Xl={info:{}},$l=Xl.info,Ql={},Zl=function(){var t=e.navigator.standalone,n=$().toLowerCase(),r=/safari/.test(n),i=/iphone|ipod|ipad/.test(n);return i&&!t&&!r},tf=!/(MSIE [0-8].\d+)/.test($())&&document.addEventListener,ef=[],nf=[];"onpagehide"in window?(ef=[Vo],nf=[Jo,Vo]):(ef=[Ko,Wo],nf=[Jo,Ko,Wo]);var rf,af,of,sf=Q()?T:E,cf=!1;ft.prototype.add=function(t){this.queue.length>=this.size||(this.queue.push(t),this.running||(this.running=!0,this.run()))},ft.prototype.run=function(){var t=this,e=function(){t.queue.length>0?t.run():t.running=!1};this.handler(this.queue.shift(),e)},ft.prototype.handler=function(t,e){var n=rf;t.needPostCallback&&(n=af),n(t,O(function(){e()}))},Jl.sendBeacon&&(cf=!0),af=ot,et()?(rf=ut,cf=!1,$l.initiator=ol):nt()?(rf=lt,cf=!1,$l.initiator=sl):e.XDomainRequest?(rf=af=at,$l.initiator=il):Zl()?dt():(rf=ot,$l.initiator=rl),rf||(rf=function(t,e){e()},cf=!1),Fo(e,Vo,function(t){cf&&(rf=st,$l.initiator=al)});var uf=mt.prototype;u(uf,c.prototype);var lf=new mt;lf.on("send",function(t,e,n){n=n||S,ht({url:t,data:e,callback:n})});var ff={},df=e.screen;df&&(ff.sh=df.height,ff.sw=df.width);var pf,hf,mf,vf,gf="http:",yf="https:",_f=[gf,yf],xf=[],bf=[];hf=function(t){try{return e.localStorage.getItem(t)}catch(n){}},mf=function(t,n){try{e.localStorage.setItem(t,n)}catch(r){}return n},vf=function(t){try{e.localStorage.removeItem(t)}catch(n){}};var Ef=null,Tf={},Sf=function(){try{var t=Yo();return e.localStorage.setItem(t,t),e.localStorage.removeItem(t),!0}catch(n){return!1}}(),Af={};Af.localStorage=Sf,Af.getEntriesByName=e.performance&&Ao(e.performance.getEntriesByName),function(){function t(){var t,l,f=Gl.documentElement;f.appendChild(c),u.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=i=s=!1,r=o=!0,e.getComputedStyle&&(l=e.getComputedStyle(u),n="1%"!==(l||{}).top,s="2px"===(l||{}).marginLeft,i="4px"===(l||{width:"4px"}).width,u.style.marginRight="50%",r="4px"===(l||{marginRight:"4px"}).marginRight,t=u.appendChild(Gl.createElement("div")),t.style.cssText=u.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",u.style.width="1px",o=!parseFloat((e.getComputedStyle(t)||{}).marginRight),u.removeChild(t)),u.style.display="none",a=0===u.getClientRects().length,a&&(u.style.display="",u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",t=u.getElementsByTagName("td"),t[0].style.cssText="margin:0;border:0;padding:0;display:none",a=0===t[0].offsetHeight,a&&(t[0].style.display="",t[1].style.display="none",a=0===t[0].offsetHeight)),f.removeChild(c)}var n,r,i,a,o,s,c=(Gl.documentElement,Gl.createElement("div")),u=Gl.createElement("div");u.style&&(u.style.cssText="float:left;opacity:.5",Af.opacity="0.5"===u.style.opacity,Af.cssFloat=!!u.style.cssFloat,u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",Af.clearCloneStyle="content-box"===u.style.backgroundClip,c=Gl.createElement("div"),c.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",u.innerHTML="",c.appendChild(u),Af.boxSizing=""===u.style.boxSizing||""===u.style.MozBoxSizing||""===u.style.WebkitBoxSizing,Af.reliableHiddenOffsets=function(){return null==n&&t(),a})}();var wf,Cf=!0,Of=[Ts,Ss,As,Ns];_e.prototype.end=function(t){var e=this;if(this.closed)return void(!this.cleared&&Vl.console_debug&&console.warn("Current context is already closed"));if(t&&(this.actionCount.ajax+=t.actionCount.ajax,this.actionCount.iframe+=t.actionCount.iframe,ge(this.items,t),this.updateRemain(-1,t.type)),!this.endLock&&(this.isNoRemain()||this.isTimeout))if(this.e=A(),this.closed=!0,this.i&&clearTimeout(this.i),this.e-this.s>Vl.eventTimeout&&(this.isTimeout=!0),this.setState(this.isTimeout?Fs:Us),this.data&&(this.data.state=this.state),this.parent)this.parent.end(this);else{var n;this.isTimeout&&(this.isRemainMeaningfulAction()||this.isMeaningfulAction())?n=this.composeTimeoutActionData():this.isMeaningfulAction()&&(n=this.composeActionData()),n&&(this.eventData=n,this.speBinded?null==this.spe?(this.waitingSpeEnd=!0,this.waitingSpeTimer=k(function(){e.waitingSpeEnd=!1,e.send()},au)):(this.buildEventDataWithSpe(),this.send()):this.send()),Dl.context=null}},_e.prototype.isNoRemain=function(t){t=t||{};var e=!0;return a(this.remain,function(n,r){if(t.ignoreFields&&d(t.ignoreFields,r)>-1)return!0;var i=n.current<=0&&(t.testCurrent?!0:n.children<=0);return i?void 0:(e=!1,!1)}),e},_e.prototype.clear=function(){this.closed=!0,this.cleared=!0,this.i&&clearTimeout(this.i)},_e.prototype.isMeaningfulAction=function(){return this.actionCount.ajax>0||this.actionCount.iframe>0||this.type===ws},_e.prototype.isRemainMeaningfulAction=function(){return this.remain.ajax.current>0||this.remain.ajax.children>0||this.remain.iframe.current>0||this.remain.iframe.children>0},_e.prototype.timeout=function(){this.isTimeout=!0,this.setState(Fs),this.end(null,!0)},_e.prototype.setData=function(t){this.data||(this.data={}),u(this.data,t||{})},_e.prototype.composeActionData=function(){return{type:this.type,subType:this.subType,start:this.s,end:this.e,duration:this.e-this.s>0?this.e-this.s:0,data:u({},this.data||{},{items:(this.items||[]).slice()})}},_e.prototype.composeTimeoutActionData=function(){return this.collectActionDataFromTop(),this.composeActionData()},_e.prototype.collectActionDataFromTop=function(){ye(this.items,this.children)},_e.prototype.collectCrossPageData=function(t){if(t||(t=[]),this.crossPage=!0,this.data&&(this.data.crossPage=!0),t.unshift(this.data),this.parent)return this.parent.collectCrossPageData(t);var e={type:this.type,subType:this.subType,start:this.s};return(this.isNoRemain()||1===this.children.length)&&this.clear(),{action:e,data:t,requestInfo:Jt(),commonActionInfo:de(),fromUrl:Vl.ref}},_e.prototype.canEnd=function(t){return!this.closed&&this.isNoRemain(u({testCurrent:!0},t))},_e.prototype.updateRemain=function(t,e){if(this.remain[e]){e||(e=Ts);var n=t||0;this.remain[e].current=this.remain[e].current+n;for(var r=this.parent;r;)r.remain[e].children=r.remain[e].children+n,r=r.parent}},_e.prototype.setState=function(t){return this.stateChanged?!1:(this.state=t,this.stateChanged=!0,!0)},_e.prototype.current=function(){return Dl.context},_e.prototype.buildEventDataWithSpe=function(){if(this.spe&&this.eventData&&this.eventData.data){var t=this.spe.xhrs;this.spe.hasAjax=t&&t.length>0,delete this.spe.xhrs,this.eventData.data.spe=this.spe}},_e.prototype.setSpe=function(t){return t?(this.spe=t,this.waitingSpeEnd&&(this.buildEventDataWithSpe(),this.send(),clearTimeout(this.waitingSpeTimer)),this.sent):void 0},_e.prototype.send=function(){if(!this.sent){var t={};null!=this.spe&&this.speBinded&&(t.query={ss:1},this.spe.type===Kc&&(t.query.rs=1)),Ao(this.callback.beforeSend)&&this.callback.beforeSend.call(this,this),Ao(this.callback.afterSend)&&(t.cb=this.callback.afterSend),this.setSendOptions(t),pe(this.eventData,this.sendOptions),this.sent=!0}},_e.prototype.removeFromParent=function(){if(this.parent){var t=this.parent.children.indexOf(this);t>-1&&this.parent.children.splice(t,1);var e=this.parent.items.indexOf(this.data);e>-1&&this.parent.items.splice(e,1),this.parent.updateRemain(-1,this.type),this.parent.end()}},_e.prototype.addResource=function(t,e){var n=this;if(t&&!t[Fu]){var r={start:e,name:t.src||"",type:t.nodeName?t.nodeName.toLowerCase():"",timeout:!1,load:!1,error:!1,finished:!1},i=Yo();if(t[Fu]=i,this.resource.handler[i]=r,this.addResourceStatstic("total",t.src),this.updateRemain(1,Ns),r.timerId=k(function(){var e=n.resource.handler[i];e&&!e.finished&&(n.addResourceStatstic("timeout",t.src),e.timeout=!0,e.finished=!0,n.updateRemain(-1,Ns),n.end())},Vl.resourceWaitTime),r.handler=function(e){e||(e={type:"load"});var r=n.resource.handler[i];if(r&&!r.finished){clearTimeout(r.timerId),n.updateRemain(-1,Ns);try{n.addResourceStatstic(e.type,t.src),r[e.type]=!0}catch(e){}r.finished=!0,n.end()}},0===r.name.indexOf("data:image/"))return void r.handler();t.addEventListener("load",r.handler),t.addEventListener("error",r.handler)}},_e.prototype.addResourceStatstic=function(t,e,n){this.resource.statistic[t][e]||(this.resource.statistic[t][e]=0),this.resource.statistic[t][e]+=n||1},_e.prototype.hasChildType=function(t){var e=!1;return a(this.children,function(n){return n.type===t?(e=!0,!1):void 0}),e},_e.buildImmediateAction=function(t,e,n,r){r=r||{};var i=u({type:t,subType:e,state:Bs,data:n},r.actionOptions||{});return i.data&&(i.data.state=i.state),r.notSend||pe(i,r.sendOptions),i},_e.getRootContext=function(t,e){if(!t&&!Ao(e))return null;for(;t;){if(null==t.parent&&e.call(null,t))return t;t=t.parent}return null},_e.prototype.toJSON=function(){},_e.prototype.setSendOptions=function(t){this.sendOptions||(this.sendOptions={}),u(this.sendOptions,t)},_e.prototype.registerTimeout=function(){var t=this;null==this.parent&&this.type!==ws&&(this.i=k(function(){t.timeout()},Vl.eventTimeout))},_e.prototype.unregisterTimeout=function(){try{clearTimeout(this.i)}catch(t){}};var Nf,kf,Pf,If,Rf={},Df={start:t,e:{}},Lf=0,Hf=1,jf=2,qf=3,Bf=4,Mf=5,Uf=0,Ff=1,Gf=2,Yf=3,zf=4,Jf=5,Kf=0,Wf=1,Vf=2,Xf=3,$f=e,Qf=function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=function(t){for(var e={},n=0,r=t.length;r>n;n++)e[t.charAt(n)]=n;return e}(t),n=String.fromCharCode,r=function(t){if(t.length<2){var e=t.charCodeAt(0);return 128>e?t:2048>e?n(192|e>>>6)+n(128|63&e):n(224|e>>>12&15)+n(128|e>>>6&63)+n(128|63&e)}var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return n(240|e>>>18&7)+n(128|e>>>12&63)+n(128|e>>>6&63)+n(128|63&e)},i=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,a=function(t){return t.replace(i,r)},o=function(e){var n=[0,2,1][e.length%3],r=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),i=[t.charAt(r>>>18),t.charAt(r>>>12&63),n>=2?"=":t.charAt(r>>>6&63),n>=1?"=":t.charAt(63&r)];return i.join("")},s=$f.btoa?function(t){return $f.btoa(t)}:function(t){return t.replace(/[\s\S]{1,3}/g,o)},c=function(t){var e="[object Uint8Array]"===Object.prototype.toString.call(t);return e?t.toString("base64"):s(a(String(t)))},u=function(t,e){return e?c(String(t)).replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=/g,""):c(t)},l=function(t){return u(t,!0)},f=new RegExp(["[\xc0-\xdf][\x80-\xbf]","[\xe0-\xef][\x80-\xbf]{2}","[\xf0-\xf7][\x80-\xbf]{3}"].join("|"),"g"),d=function(t){switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),r=e-65536;return n((r>>>10)+55296)+n((1023&r)+56320);case 3:return n((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return n((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},p=function(t){return t.replace(f,d)},h=function(t){var r=t.length,i=r%4,a=(r>0?e[t.charAt(0)]<<18:0)|(r>1?e[t.charAt(1)]<<12:0)|(r>2?e[t.charAt(2)]<<6:0)|(r>3?e[t.charAt(3)]:0),o=[n(a>>>16),n(a>>>8&255),n(255&a)];return o.length-=[0,0,2,1][i],o.join("")},m=$f.atob?function(t){return $f.atob(t)}:function(t){return t.replace(/\S{1,4}/g,h)},v=function(t){return m(String(t).replace(/[^A-Za-z0-9\+\/]/g,""))},g=function(t){return p(m(t))},y=function(t){return g(String(t).replace(/[-_]/g,function(t){return"-"==t?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))};return{atob:v,btoa:s,utob:a,encode:u,encodeURI:l,btou:p,decode:y}}(),Zf={},td=["id","key","appKey","token"],ed=["IMG","SCRIPT","IFRAME"],nd=null,rd=new c;If=String.prototype.trim?String.prototype.trim:function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};var id=1e4,ad=0,od="report",sd="error";In.prototype={add:function(t,e){this.len>this.limit||this.get(t)||(this.c[t]=e,this.len++)},get:function(t){return this.c[t]},reset:function(){this.c={},this.len=0}};var cd=new In(100),ud={},ld={};Ln.prototype={increase:function(){this.recordFileName(),this.count++},recordFileName:function(){var t=this.filename||"_";this.fep+=ld[t]?0:1,ld[t]=!0},fix:function(){var t=this,e=t.stack;if(e&&To(e)){e=e.split(/\n/);var n=[];a(e,function(t,e){-1==t.indexOf(rs)&&n.push(t)}),t.stack=n.join("\n")}},getErrorOverview:function(){var t=this;return{o:t.time,e:t.msg,l:t.lineno,c:t.colno,r:t.filename,ec:t.count,s:t.stack,m:t.module,ep:t.ep,fep:t.fep,tr:t.trigger}},toObject:function(){var t=this.getErrorOverview(),e={};return a(this.trace,function(t,n){e[n]=j({time:t.time},t.scope)}),t.trace=e,t},initTraceInstance:function(){var t={id:Yo(),time:A(),scope:new R};return t},triggerActionHook:function(t){if(t){var e=u(this.getErrorOverview(),{id:t.id,o:t.time});Y({type:Tu,name:ku,args:{target:this.error,actionData:e},scope:t.scope}),e.id&&(t.id=e.id)}}},Yn.prototype.put=function(t,e){if(this._size>=this._capacity)try{var n=this._cacheKeys.shift();this._size--,this._cache[n]=null,delete this._cache[n]}catch(r){}this._cache[t]=e,this._cacheKeys.push(t),this._size++},Yn.prototype.get=function(t){return this._cache[t]};var fd=[Ec,Tc],dd=1,pd=2,hd=[Ec,Tc],md=[],vd=new Yn({capacity:20}),gd=null;nr.regex=/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i;var yd="undefined"!=typeof e.console,_d=1,xd=2,bd=4,Ed=8,Td=vr.prototype;Td.create=Td.before=Td.after=Td.error=null;var Sd;Er.prototype={createContext:function(){return Ul(this.active)},getContext:function(){return this.active},get:function(t){return this.active?this.active[t]:void 0},set:function(t,e){return this.active?this.active[t]=e:void 0},enter:function(t){if(!t)throw new Fl("context required!");this._set.push(this.active),this.active=t},exit:function(t){if(!t)throw new Fl("context required!");if(t===this.active)return void(this.active=this._set.pop());var e=this._set.lastIndexOf?this._set.lastIndexOf(t):b(this._set,t);if(0>e)throw new Fl("context not currently entered!");this._set.splice(e,1)},bind:function(t,e){e||(e=this.active?this.active:this.createContext());var n=this;return function(){n.enter(e);try{return t.apply(this,arguments)}catch(r){try{var i="moduleId";r[i]=e[i]}catch(a){}throw r}finally{n.exit(e)}}}};var Ad,wd=!1,Cd=Sr(),Od=1,Nd=0,kd={},Pd={},Id=Cr.prototype;Id.fail=Id.end=Id.store=S;var Rd=Or.prototype;Rd.end=Rd.finish=Rd.fail=null,Rd.send=function(t){this.sent=!0;var e=this.getEventData(t);(Vl.collect_noajax_hashroute||!(e.debugInfo&&e.debugInfo.api===ou||e.type===Kc&&e.key.indexOf("#")>-1)||0!==e.xhrs.length)&&(e.duration>=this.timeout||(Y({type:Tu,name:Pu,args:{actionData:e},scope:this.scope}),j(e,this.scope),wr(e)))},Rd.getEventData=function(t){var e=this,n=t.event&&t.event.xhrs||[];a(n,function(t){t.startSpeOffset=t.start-e.s});var r={key:e.key,start:e.s,duration:e.e-e.s,status:e.status,type:e.type,xhrs:n};return e.duration>0&&(r.duration=e.duration,r.start=e.e-e.duration),e.type===Kc&&Vl.baseHref&&(r.baseHref=Vl.baseHref),this.debugInfo&&(r.debugInfo=this.debugInfo),this.op&&(r.op=this.op),this.desc&&(r.desc=this.desc),r},Rd.refreshEventAndStore=function(t){this.finish();var e=this.getEventData(t);mf(Fc,Po(e))};var Dd,Ld={mainVersion:Pc,version:"3.3.10",key:Vl.key,pvid:Vl.pvid,createEvent:Rr,globalStart:t,currentAgent:lf,mark:zr,wrapVueRouter:Yr,setUid:Ut,createAutoEvent:Rr,endStoreEvent:Pr,captureException:Mn,setDid:Bt,addHook:B,addLifeCycleHook:M,addActionHook:U,addSendHook:G,setContext:L,setExtraContext:H,stopLCPObserver:tn,checkHookSupported:z,newSession:be,endSession:Ee,setSessionContext:Te,newEvent:Gn,createCustomEvent:Gn,parseQuery:wt,JSON:{stringify:Po,parse:bt},newAction:Rr,getAgentConfig:vn,util:{uuid:Yo},startNextSession:le,addPlugin:Mr},Hd="TOKEN_",jd="APPKEY_",qd=0,Bd=/(msie|trident)/i.test($()),Md=Gl.createElement("a"),Ud=Qr(zl.href),Fd={uniqueId:0},Gd={error:990,abort:905,timeout:903},Yd="onload",zd=Zo+Xo,Jd={},Kd=0,Wd={},Vd=0,Xd=null,$d=0,Qd="load",Zd="reload",tp=["__wvjb_queue_message__","__bridge_loaded__"],ep={literal:{addHeader:function(t,e){this.fetchOptions.headers[t]=e},getHeader:function(t){return this.fetchOptions.headers[t]}},headers:{addHeader:function(t,e){this.fetchOptions.headers.append(t,e)},getHeader:function(t){return this.fetchOptions.headers.get(t)}},notSupport:{addHeader:S,getHeader:S}},np=["css","link","script","img","other"],rp={},ip={},ap=!1,op="{0} not support",sp={},cp=[rc,ic,cc,ec,nc,ac,oc,Ys,zs,sc,uc,lc,fc],up={UNKNOWN:0,TRUE:1,FALSE:2},lp=O(function(){if(sp.overview){var t=u({},sp.overview),n=Ve(t,e);t.st=n;var r=ao(t,null,Ps);_e.buildImmediateAction(ws,Ps,r)}}),fp=O(function(t){function n(t){return t?"1":"0"}var r=t.context;if(!Dl.pfSent){var i=e.performance,s=!!i,c=i&&i.timing;s||_t(f(op,["pf"]));var l=u(Xe(e),Vl.pageServerData,Pl),d=u({le:l.le},ff);d.fp=je(d,e),d.dr=Ke(d,e),d.fs=qe(d,e),d.le=We(d,e,r);var p=u(l,d)||{},h=io();h&&a(h,function(t,e){Co(t)&&t>=0&&(p[e]=t)});var m,v="",g=c?to(c):0;a(["fp","fs","dr","le"],function(t){var e=t;"le"===t&&(e="trace"),v+=n((g?p[t]-g:p[t])>=Wl[e+"_threshold"])}),s&&v.indexOf("1")>-1&&(m=Qa(i,c,r),p.ressize=!(!i||!i.getEntriesByName)),h&&(m||(m={}),m.mark=h),p.trflag=v||"0000",Il.pfStart=A(),delete p.firstScreenResources,delete p.resources,m||(m={tr:!1,tt:o(Gl.title),charset:Gl.characterSet});var y=Dl.pageUrlInfo||{};Vl.collectAllParam[vu]&&y.operaAllParam&&(m.opera_all_param={},m.opera_all_param[vu]=y.operaAllParam),r._ctx.pageClose&&(p.st=Ve(d.fp,e)),sp.overview=p;var _=ao(p,m);u(r.eventData.data,_);try{Xa(p,m)}catch(x){}Dl.pfSent=!0}}),dp=O(function(){Dl.pageLoadEvent&&(Dl.pageLoadEvent.closed?lp():(oo(!0),Dl.pageLoadEvent.closed||Dl.pageLoadEvent.timeout()))}),pp="rage_click",hp=0,mp=0,vp=[cu,uu],gp=bo();return gp}(+new Date,window);
!function(){window.TINGYUN&&window.TINGYUN.init&&window.TINGYUN.init({"collect_all_param": "11111","event_timeout":60000,"dr_threshold":4000,"opt_custom_param_rule":[],"cross_page_delay":3000,"router_enable":true,"fp_threshold":2000,"token":"fbf374e7609211eb86b96c92bf48cfe0","beacon":"wkbrs1.tingyun.com","trace_threshold":7000,"x_server_switch":true,"ignore_err":false,"id":"0iAQ921BRUw","key":"-uTlMN1RNIk","fs_threshold":4000})}();/*TY_AGENT_END*/